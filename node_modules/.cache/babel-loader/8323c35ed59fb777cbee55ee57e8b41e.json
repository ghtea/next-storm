{"ast":null,"code":"var _jsxFileName = \"/usr/projects/parallel-storm/src/components/TeamGenerator/Entry.js\";\nimport dotenv from 'dotenv';\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios'; //import path from 'path'\n\nimport { NavLink, useParams } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { replacePlayerTags } from \"../../redux/store\";\nimport { replacePlayerStatus } from \"../../redux/store\";\nimport { addNotification, removeNotification } from \"../../redux/store\";\nimport readPlanTeam from \"../../redux/thunks/readPlanTeam\";\nimport addRemoveNotification from \"../../redux/thunks/addRemoveNotification\"; // https://reacttraining.com/blog/react-router-v5-1/\n\nimport { Div } from '../../styles/DefaultStyles';\nimport IconConfirmed from '../../svgs/IconConfirmed';\nimport IconPending from '../../svgs/IconPending';\nimport IconInfo from '../../svgs/IconInfo';\nimport IconLeader from '../../svgs/basic/IconLeader';\nimport IconTank from '../../svgs/roles/IconTank';\nimport IconBruiser from '../../svgs/roles/IconBruiser';\nimport IconMeleeAssassin from '../../svgs/roles/IconMeleeAssassin';\nimport IconRangedAssassin from '../../svgs/roles/IconRangedAssassin';\nimport IconHealer from '../../svgs/roles/IconHealer';\nimport { CopyToClipboard } from 'react-copy-to-clipboard'; // 이상하게 dotenv.config() 안해도 된다 (오히려 하면 에러 발생...)\n//dotenv.config() ;\n//dotenv.config({ path: path.join(__dirname, '../../.env') });\n\nconst DivEntry = styled(Div)`\n  width: auto;\n  height: 100%;\n  \n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  \n  padding-bottom: 10px;\n`;\nconst DivEntryTitle = styled(Div)`\n  font-size: 1.2rem;\n  font-weight: bold;\n  \n  margin-top: 20px;\n  height: 20px;\n  margin-bottom: 5px;\n`;\nconst DivDescription = styled(Div)`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  \n  margin-bottom: 15px;\n  margin-top: 10px;\n  \n  & > div {\n\n    width: auto;\n    \n    margin-left: 4px;\n    margin-right: 4px;\n    \n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: flex-start;\n  }\n`;\nconst DivTableEntry = styled(Div)`\n  \n  margin-left: 10px;\n  margin-right: 10px;\n  \n  \n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  \n  @media (max-width: ${props => props.theme.media.mid_big - 1}px ) {\n    overflow-y: scroll;\n    height: 320px;\n  }\n  \n`;\nconst DivIconLoading = styled(Div)`\n  margin-top: 10px;\n`;\n/*\ndisplay:grid;\n*/\n\nconst DivRowHeader = styled(Div)`\n  color: ${props => props.theme.color_weak};\n\n  display: grid;\n  grid-template-columns: 30px 150px 120px 60px 30px; // 20(padding) + 30 + 150 + 120 + 60 + 30 = 410 => 안전하게 small_mid 420 으로 하자\n  grid-template-rows: 24px;\n  \n  @media (max-width: ${props => props.theme.media.small_mid - 1}px ) {\n    grid-template-columns: 30px 90px minmax(72px, auto) 60px 30px; // \n    grid-template-rows: 60px;\n  }\n  \n  & > Div {\n    font-weight: thin;\n  }\n  //background-color: ${props => props.theme.COLOR_normal};\n   \n  //border-radius:  8px;\n`;\nconst DivRowPlayer = styled(Div)`\n  display: grid;\n  grid-template-columns: 30px 150px 120px 60px 30px; // 20(padding) + 30 + 150 + 120 + 60 + 30 = 410\n  grid-template-rows: 40px;\n  \n  @media (max-width: ${props => props.theme.media.small_mid - 1}px ) {\n    grid-template-columns: 30px 100px 80px 60px 30px; // \n    grid-template-rows: 60px;\n  }\n  \n  \n  border-bottom: 1px solid ${props => props.theme.color_very_weak};\n  &:last-child {\n    border-bottom-style: none;\n  }\n`;\n/*\nconst DivRowPlayer = styled(Div)`\n  display: grid;\n  grid-template-columns: 1fr 60px ${30*4}px 40px 40px; \n  grid-template-rows: 40px;\n  \n  background-color: ${props => props.theme.COLOR_normal};\n  border-bottom: 1px solid ${props => props.theme.color_very_weak};\n  \n  \n  &:nth-child(2) {\n    border-top-left-radius:    10px;\n    border-top-right-radius:   10px;\n    \n  }\n  \n  &:last-child {\n    border-bottom-right-radius: 10px;\n    border-bottom-left-radius:  10px;\n    \n    border-bottom-style: none;\n    \n  }\n\n*/\n\nconst DivLeader = styled(Div)`\n  \n    \n`;\nconst DivBattletagHeader = styled(Div)`\n  padding-left: 10px;\n  \n  display: block;\n  text-algin: left;\n`;\nconst DivBattletag = styled(Div)`\n  justify-self: start;\n  \n  padding-left: 10px;\n  \n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-end;\n  \n  cursor: pointer;\n  \n  @media (max-width: ${props => props.theme.media.small_mid - 1}px ) {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n  }\n`;\nconst DivBattletagName = styled(Div)`\n  \n  width: auto;\n  max-width: inherit;\n  \n  display: inline;\n  text-algin: left;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\nconst DivBattletagNumber = styled(Div)`\n  font-size: 0.9rem;\n  \n  width: auto;\n   \n  color: ${props => props.theme.color_weak};\n  display: inline;\n  text-algin: left;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`;\nconst DivRoles = styled(Div)`\n  \n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  \n  & > div {\n    width: auto;   // important!!!\n    height: auto;\n  }\n  \n  & > div > div {\n    width: 20px;\n    height: 20px;\n    margin: 2px;\n  }\n`;\nconst DivMmr = styled(Div)`\n  font-size: 0.9rem;\n`;\nconst DivStatus = styled(Div)`\n  \n`;\n\nconst RowPlayer = ({\n  authority,\n  idPlanTeam,\n  battletag,\n  mmr,\n  regions,\n  roles,\n  statusPlayer,\n  isLeader,\n  replacePlayerTags,\n  replacePlayerStatus,\n  addRemoveNotification\n}) => {\n  // for icon which depends on variable\n  const IconStatus = {\n    pending: /*#__PURE__*/React.createElement(IconPending, {\n      width: \"20px\",\n      height: \"20px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 14\n      }\n    }),\n    confirmed: /*#__PURE__*/React.createElement(IconConfirmed, {\n      width: \"20px\",\n      height: \"20px\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 17\n      }\n    })\n  }; // 관리자 권한이 필요한 버튼을 클릭했을 때!\n\n  const onClick_NotAdministrator = event => {\n    addRemoveNotification(\"error\", \"You are not administrator\");\n  };\n\n  const regexBattletag = /(#\\d*)$/;\n  const listNumberBattletag = battletag.match(regexBattletag);\n  const battletagNumber = listNumberBattletag[0];\n  const battletagName = battletag.replace(regexBattletag, \"\");\n\n  const onClick_DivLeader = async event => {\n    if (!isLeader) {\n      replacePlayerTags(battletag, \"leader\", true);\n      await axios.put(`${process.env.REACT_APP_URL_AHR}/player/update-tags`, {\n        idPlanTeam: idPlanTeam,\n        battletag: battletag,\n        tag: \"leader\",\n        true_false: true\n      });\n\n      if (statusPlayer === \"pending\") {\n        // 만약 status 가 pending 때는 status 도 confirmed 로 한꺼번에 바꿔주기!\n        replacePlayerStatus(battletag, \"confirmed\");\n        await axios.put(`${process.env.REACT_APP_URL_AHR}/player/update-status`, {\n          idPlanTeam: idPlanTeam,\n          battletag: battletag,\n          status: \"confirmed\"\n        });\n      }\n    } else {\n      replacePlayerTags(battletag, \"leader\", false);\n      await axios.put(`${process.env.REACT_APP_URL_AHR}/player/update-tags`, {\n        idPlanTeam: idPlanTeam,\n        battletag: battletag,\n        tag: \"leader\",\n        true_false: false\n      });\n    }\n  };\n\n  const onClick_DivStatus = async event => {\n    let newStatus;\n\n    if (statusPlayer === \"pending\") {\n      replacePlayerStatus(battletag, \"confirmed\");\n      await axios.put(`${process.env.REACT_APP_URL_AHR}/player/update-status`, {\n        idPlanTeam: idPlanTeam,\n        battletag: battletag,\n        status: \"confirmed\"\n      });\n    } else {\n      // if status was \"confirmed\"\n      replacePlayerStatus(battletag, \"pending\");\n      await axios.put(`${process.env.REACT_APP_URL_AHR}/player/update-status`, {\n        idPlanTeam: idPlanTeam,\n        battletag: battletag,\n        status: \"pending\"\n      });\n\n      if (isLeader === true) {\n        replacePlayerTags(battletag, \"leader\", false);\n        await axios.put(`${process.env.REACT_APP_URL_AHR}/player/update-tags`, {\n          idPlanTeam: idPlanTeam,\n          battletag: battletag,\n          tag: \"leader\",\n          true_false: false\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(DivRowPlayer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DivLeader, {\n    onClick: authority === \"administrator\" ? onClick_DivLeader : onClick_NotAdministrator,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IconLeader, {\n    width: \"23px\",\n    height: \"18px\",\n    isFilled: isLeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(CopyToClipboard, {\n    text: battletag,\n    onCopy: () => {\n      addRemoveNotification(\"success\", `'${battletag}' has been copied`);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DivBattletag, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DivBattletagName, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 11\n    }\n  }, \" \", battletagName, \" \"), /*#__PURE__*/React.createElement(DivBattletagNumber, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 11\n    }\n  }, \" \", battletagNumber, \" \"))), /*#__PURE__*/React.createElement(DivRoles, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 9\n    }\n  }, \" \", roles.includes(\"Tank\") ? /*#__PURE__*/React.createElement(IconTank, {\n    width: \"20px\",\n    height: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 42\n    }\n  }) : /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 88\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 9\n    }\n  }, \" \", roles.includes(\"Bruiser\") ? /*#__PURE__*/React.createElement(IconBruiser, {\n    width: \"20px\",\n    height: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 45\n    }\n  }) : /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 94\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 9\n    }\n  }, \" \", roles.includes(\"Melee Assassin\") ? /*#__PURE__*/React.createElement(IconMeleeAssassin, {\n    width: \"18px\",\n    height: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 52\n    }\n  }) : /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 107\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 9\n    }\n  }, \" \", roles.includes(\"Ranged Assassin\") ? /*#__PURE__*/React.createElement(IconRangedAssassin, {\n    width: \"20px\",\n    height: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 53\n    }\n  }) : /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 109\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 9\n    }\n  }, \" \", roles.includes(\"Healer\") ? /*#__PURE__*/React.createElement(IconHealer, {\n    width: \"15px\",\n    height: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 44\n    }\n  }) : /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 92\n    }\n  }), \" \")), /*#__PURE__*/React.createElement(DivMmr, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 7\n    }\n  }, mmr), /*#__PURE__*/React.createElement(DivStatus, {\n    onClick: authority === \"administrator\" ? onClick_DivStatus : onClick_NotAdministrator,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }\n  }, IconStatus[statusPlayer]));\n};\n\nconst Entry = ({\n  authority,\n  idPlanTeam,\n  listPlayerEntry,\n  option,\n  replacePlayerTags,\n  replacePlayerStatus,\n  addRemoveNotification,\n  addNotification,\n  removeNotification\n}) => {\n  const region = option.region;\n  useEffect(() => {\n    console.log(\"Entry has been rerendered\");\n  });\n  let listPlayer = Object.keys(listPlayerEntry).map(element => listPlayerEntry[element]._id); // list of battletags\n\n  listPlayer = listPlayer.sort((player1, player2) => {\n    // mmr 높은순으로 list of battletags\n    const objPlayer1 = listPlayerEntry.find(objPlayer => objPlayer._id === player1);\n    const objPlayer2 = listPlayerEntry.find(objPlayer => objPlayer._id === player2);\n    return objPlayer2.mmr.standard[region] - objPlayer1.mmr.standard[region]; // ex 3333, 222, 1111\n  });\n  const listPlayerConfirmed = listPlayer.filter(battletag => {\n    const objPlayer = listPlayerEntry.find(objPlayer => objPlayer._id === battletag);\n    return objPlayer.status === \"confirmed\";\n  });\n  const listPlayerConfirmedLeader = listPlayerConfirmed.filter(battletag => {\n    const objPlayer = listPlayerEntry.find(objPlayer => objPlayer._id === battletag);\n    return objPlayer.tags.includes(\"leader\");\n  });\n  const listPlayerConfirmedNonLeader = listPlayerConfirmed.filter(battletag => {\n    const objPlayer = listPlayerEntry.find(objPlayer => objPlayer._id === battletag);\n    return !objPlayer.tags.includes(\"leader\");\n  });\n  const listPlayerPending = listPlayer.filter(battletag => {\n    const objPlayer = listPlayerEntry.find(objPlayer => objPlayer._id === battletag);\n    return objPlayer.status === \"pending\";\n  });\n  const listPlayerShowing = [...listPlayerConfirmedLeader, ...listPlayerConfirmedNonLeader, ...listPlayerPending];\n  return /*#__PURE__*/React.createElement(DivEntry, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(DivEntryTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 5\n    }\n  }, \" Entry \"), /*#__PURE__*/React.createElement(DivDescription, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490,\n      columnNumber: 7\n    }\n  }, \" \", `${listPlayerEntry.length} players`, \" \"), /*#__PURE__*/React.createElement(Div, {\n    onMouseEnter: event => addNotification(\"tip\", \"only confirmed players can join teams\", \"tip-confirmed\"),\n    onMouseLeave: event => removeNotification(\"tip-confirmed\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IconConfirmed, {\n    width: \"20px\",\n    height: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 9\n    }\n  }), \" \", ` : ${listPlayerConfirmed.length}`), /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IconPending, {\n    width: \"20px\",\n    height: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 9\n    }\n  }), \" \", ` : ${listPlayerEntry.length - listPlayerConfirmed.length}`), /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(IconLeader, {\n    width: \"23px\",\n    height: \"18px\",\n    isFilled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 9\n    }\n  }), \" \", ` : ${listPlayerConfirmedLeader.length}`)), /*#__PURE__*/React.createElement(DivTableEntry, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DivRowHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 7\n    }\n  }, \"  \"), /*#__PURE__*/React.createElement(DivBattletagHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 7\n    }\n  }, \"  battletag \"), /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 7\n    }\n  }, \" roles \"), /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 516,\n      columnNumber: 7\n    }\n  }, \" mmr \"), /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 7\n    }\n  }, \"  \")), listPlayerShowing.map((battletag, i) => {\n    const player = listPlayerEntry.find(objPlayer => objPlayer._id === battletag);\n    return /*#__PURE__*/React.createElement(RowPlayer, {\n      key: `${player._id}_${new Date().getTime().toString()}`,\n      authority: authority,\n      idPlanTeam: idPlanTeam,\n      battletag: player._id,\n      regions: player.regions,\n      mmr: player.mmr.standard[region],\n      roles: player.roles,\n      isLeader: player.tags.includes(\"leader\"),\n      statusPlayer: player.status,\n      replacePlayerTags: replacePlayerTags,\n      replacePlayerStatus: replacePlayerStatus,\n      addRemoveNotification: addRemoveNotification,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 527,\n        columnNumber: 9\n      }\n    });\n  })));\n}; //<button onClick= {refetch} > Refectch </button>\n\n\nfunction mapStateToProps(state) {\n  return {\n    authority: state.authority,\n    listPlayerEntry: [...state.planTeam.listPlayerEntry],\n    idPlanTeam: state.planTeam._id,\n    option: state.planTeam.option //,workingAddPlayerToListPlayerEntry: state.working.addPlayerToListPlayerEntry\n    //,readyPlanTeam: state.ready.planTeam\n    //,loading: state.loading\n\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    replacePlayerTags: (battletag, tag, true_false) => dispatch(replacePlayerTags(battletag, tag, true_false)),\n    replacePlayerStatus: (battletag, status) => dispatch(replacePlayerStatus(battletag, status)),\n    addRemoveNotification: (situation, message, time) => dispatch(addRemoveNotification(situation, message, time)),\n    addNotification: (situation, message, idNotification) => dispatch(addNotification(situation, message, idNotification)),\n    removeNotification: idNotification => dispatch(removeNotification(idNotification))\n  };\n} // TableEntry 컴포넌트에서 redux의 state, dispatch 를 일부분 골라서 이용가능하게 된다\n// connect(mapStateToProps, mapDispatchToProps)(RowPlayer);    https://stackoverflow.com/questions/46276810/what-is-the-necessity-of-export-default-connect-when-you-are-connecting-your-r\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Entry);","map":{"version":3,"sources":["/usr/projects/parallel-storm/src/components/TeamGenerator/Entry.js"],"names":["dotenv","React","useState","useEffect","styled","axios","NavLink","useParams","connect","replacePlayerTags","replacePlayerStatus","addNotification","removeNotification","readPlanTeam","addRemoveNotification","Div","IconConfirmed","IconPending","IconInfo","IconLeader","IconTank","IconBruiser","IconMeleeAssassin","IconRangedAssassin","IconHealer","CopyToClipboard","DivEntry","DivEntryTitle","DivDescription","DivTableEntry","props","theme","media","mid_big","DivIconLoading","DivRowHeader","color_weak","small_mid","COLOR_normal","DivRowPlayer","color_very_weak","DivLeader","DivBattletagHeader","DivBattletag","DivBattletagName","DivBattletagNumber","DivRoles","DivMmr","DivStatus","RowPlayer","authority","idPlanTeam","battletag","mmr","regions","roles","statusPlayer","isLeader","IconStatus","pending","confirmed","onClick_NotAdministrator","event","regexBattletag","listNumberBattletag","match","battletagNumber","battletagName","replace","onClick_DivLeader","put","process","env","REACT_APP_URL_AHR","tag","true_false","status","onClick_DivStatus","newStatus","includes","Entry","listPlayerEntry","option","region","console","log","listPlayer","Object","keys","map","element","_id","sort","player1","player2","objPlayer1","find","objPlayer","objPlayer2","standard","listPlayerConfirmed","filter","listPlayerConfirmedLeader","tags","listPlayerConfirmedNonLeader","listPlayerPending","listPlayerShowing","length","i","player","Date","getTime","toString","mapStateToProps","state","planTeam","mapDispatchToProps","dispatch","situation","message","time","idNotification"],"mappings":"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","sourcesContent":["import dotenv from 'dotenv';\nimport React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios';\n\n//import path from 'path'\nimport { NavLink, useParams } from 'react-router-dom';\n\nimport { connect } from \"react-redux\";\nimport {replacePlayerTags} from \"../../redux/store\";\nimport {replacePlayerStatus} from \"../../redux/store\";\nimport {addNotification, removeNotification} from \"../../redux/store\";\n\nimport readPlanTeam from \"../../redux/thunks/readPlanTeam\";\nimport addRemoveNotification from \"../../redux/thunks/addRemoveNotification\";\n\n// https://reacttraining.com/blog/react-router-v5-1/\n\nimport {Div} from '../../styles/DefaultStyles';\n\n\nimport IconConfirmed from '../../svgs/IconConfirmed'\nimport IconPending from '../../svgs/IconPending'\nimport IconInfo from '../../svgs/IconInfo'\nimport IconLeader from '../../svgs/basic/IconLeader'\n\nimport IconTank from '../../svgs/roles/IconTank'\nimport IconBruiser from '../../svgs/roles/IconBruiser'\nimport IconMeleeAssassin from '../../svgs/roles/IconMeleeAssassin'\nimport IconRangedAssassin from '../../svgs/roles/IconRangedAssassin'\nimport IconHealer from '../../svgs/roles/IconHealer'\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\n// 이상하게 dotenv.config() 안해도 된다 (오히려 하면 에러 발생...)\n//dotenv.config() ;\n//dotenv.config({ path: path.join(__dirname, '../../.env') });\n\nconst DivEntry = styled(Div)`\n  width: auto;\n  height: 100%;\n  \n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  \n  padding-bottom: 10px;\n`;\n\nconst DivEntryTitle = styled(Div)`\n  font-size: 1.2rem;\n  font-weight: bold;\n  \n  margin-top: 20px;\n  height: 20px;\n  margin-bottom: 5px;\n`\n\nconst DivDescription = styled(Div)`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  \n  margin-bottom: 15px;\n  margin-top: 10px;\n  \n  & > div {\n\n    width: auto;\n    \n    margin-left: 4px;\n    margin-right: 4px;\n    \n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: flex-start;\n  }\n`\n\n\n\nconst DivTableEntry = styled(Div)`\n  \n  margin-left: 10px;\n  margin-right: 10px;\n  \n  \n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  \n  @media (max-width: ${props => (props.theme.media.mid_big -1) }px ) {\n    overflow-y: scroll;\n    height: 320px;\n  }\n  \n`\n\nconst DivIconLoading = styled(Div)`\n  margin-top: 10px;\n`\n\n/*\ndisplay:grid;\n*/\n\nconst DivRowHeader = styled(Div)`\n  color: ${props => props.theme.color_weak};\n\n  display: grid;\n  grid-template-columns: 30px 150px 120px 60px 30px; // 20(padding) + 30 + 150 + 120 + 60 + 30 = 410 => 안전하게 small_mid 420 으로 하자\n  grid-template-rows: 24px;\n  \n  @media (max-width: ${props => (props.theme.media.small_mid -1) }px ) {\n    grid-template-columns: 30px 90px minmax(72px, auto) 60px 30px; // \n    grid-template-rows: 60px;\n  }\n  \n  & > Div {\n    font-weight: thin;\n  }\n  //background-color: ${props => props.theme.COLOR_normal};\n   \n  //border-radius:  8px;\n`\n\n\nconst DivRowPlayer = styled(Div)`\n  display: grid;\n  grid-template-columns: 30px 150px 120px 60px 30px; // 20(padding) + 30 + 150 + 120 + 60 + 30 = 410\n  grid-template-rows: 40px;\n  \n  @media (max-width: ${props => (props.theme.media.small_mid -1) }px ) {\n    grid-template-columns: 30px 100px 80px 60px 30px; // \n    grid-template-rows: 60px;\n  }\n  \n  \n  border-bottom: 1px solid ${props => props.theme.color_very_weak};\n  &:last-child {\n    border-bottom-style: none;\n  }\n`\n\n/*\nconst DivRowPlayer = styled(Div)`\n  display: grid;\n  grid-template-columns: 1fr 60px ${30*4}px 40px 40px; \n  grid-template-rows: 40px;\n  \n  background-color: ${props => props.theme.COLOR_normal};\n  border-bottom: 1px solid ${props => props.theme.color_very_weak};\n  \n  \n  &:nth-child(2) {\n    border-top-left-radius:    10px;\n    border-top-right-radius:   10px;\n    \n  }\n  \n  &:last-child {\n    border-bottom-right-radius: 10px;\n    border-bottom-left-radius:  10px;\n    \n    border-bottom-style: none;\n    \n  }\n\n*/\n\nconst DivLeader = styled(Div)`\n  \n    \n`\n\nconst DivBattletagHeader = styled(Div)`\n  padding-left: 10px;\n  \n  display: block;\n  text-algin: left;\n`\n\nconst DivBattletag = styled(Div)`\n  justify-self: start;\n  \n  padding-left: 10px;\n  \n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-end;\n  \n  cursor: pointer;\n  \n  @media (max-width: ${props => (props.theme.media.small_mid -1) }px ) {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n  }\n`\n\nconst DivBattletagName = styled(Div)`\n  \n  width: auto;\n  max-width: inherit;\n  \n  display: inline;\n  text-algin: left;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst DivBattletagNumber = styled(Div)`\n  font-size: 0.9rem;\n  \n  width: auto;\n   \n  color: ${props => props.theme.color_weak};\n  display: inline;\n  text-algin: left;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\n\nconst DivRoles = styled(Div)`\n  \n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  \n  & > div {\n    width: auto;   // important!!!\n    height: auto;\n  }\n  \n  & > div > div {\n    width: 20px;\n    height: 20px;\n    margin: 2px;\n  }\n`\nconst DivMmr = styled(Div)`\n  font-size: 0.9rem;\n`\n\nconst DivStatus = styled(Div)`\n  \n`;\n\n\n\n\n\n\nconst RowPlayer = ({\n  authority\n  ,idPlanTeam, battletag, mmr, regions, roles, statusPlayer, isLeader\n  , replacePlayerTags, replacePlayerStatus, addRemoveNotification\n}) => {\n  \n  // for icon which depends on variable\n  const IconStatus = {\n    pending: <IconPending width={\"20px\"} height={\"20px\"} />\n    ,confirmed: <IconConfirmed width={\"20px\"} height={\"20px\"} />\n  };\n  \n  // 관리자 권한이 필요한 버튼을 클릭했을 때!\n  const onClick_NotAdministrator = (event) => {\n    addRemoveNotification(\"error\", \"You are not administrator\")\n  }\n  \n  \n  \n  \n  const regexBattletag = /(#\\d*)$/;\n  const listNumberBattletag = battletag.match(regexBattletag);\n  \n  const battletagNumber = listNumberBattletag[0];\n  const battletagName = battletag.replace(regexBattletag, \"\")\n  \n  \n  const onClick_DivLeader = async (event) => {\n    \n    if (!isLeader) { \n      replacePlayerTags(battletag, \"leader\", true);\n      \n      \n      await axios.put (`${process.env.REACT_APP_URL_AHR}/player/update-tags`,\n        { \n          idPlanTeam: idPlanTeam\n          , battletag: battletag\n          , tag: \"leader\"\n          , true_false: true\n        }\n      );\n      \n      if (statusPlayer === \"pending\") { // 만약 status 가 pending 때는 status 도 confirmed 로 한꺼번에 바꿔주기!\n        replacePlayerStatus(battletag, \"confirmed\");\n        \n        await axios.put (`${process.env.REACT_APP_URL_AHR}/player/update-status`,\n          { \n            idPlanTeam: idPlanTeam\n            , battletag: battletag\n            , status: \"confirmed\"\n          }\n        );\n      }\n      \n    }\n    \n    else {\n      replacePlayerTags(battletag, \"leader\", false);\n      \n      await axios.put (`${process.env.REACT_APP_URL_AHR}/player/update-tags`,\n        { \n          idPlanTeam: idPlanTeam\n          , battletag: battletag\n          , tag: \"leader\"\n          , true_false: false\n        }\n      );\n      \n    }\n    \n  }\n  \n  \n  \n  const onClick_DivStatus = async (event) => {\n    \n    let newStatus;\n    if (statusPlayer === \"pending\") {\n      replacePlayerStatus(battletag, \"confirmed\");\n    \n      await axios.put (`${process.env.REACT_APP_URL_AHR}/player/update-status`,\n        { \n          idPlanTeam: idPlanTeam\n          , battletag: battletag\n          , status: \"confirmed\"\n        }\n      );\n      \n    }\n    else { // if status was \"confirmed\"\n      replacePlayerStatus(battletag, \"pending\");\n    \n      await axios.put (`${process.env.REACT_APP_URL_AHR}/player/update-status`,\n        { \n          idPlanTeam: idPlanTeam\n          , battletag: battletag\n          , status: \"pending\"\n        }\n      );\n      \n      if (isLeader === true) {\n        replacePlayerTags(battletag, \"leader\", false);\n        \n        await axios.put (`${process.env.REACT_APP_URL_AHR}/player/update-tags`,\n          { \n            idPlanTeam: idPlanTeam\n            , battletag: battletag\n            , tag: \"leader\"\n            , true_false: false\n          }\n        );\n      }\n    }\n    \n    \n  }\n  \n  \n\n  return (\n    \n    <DivRowPlayer >\n      \n      <DivLeader onClick={(authority===\"administrator\")?onClick_DivLeader: onClick_NotAdministrator}> \n        <IconLeader\n          \n          width={\"23px\"}\n          height={\"18px\"}\n          isFilled={isLeader}\n        />  \n      </DivLeader >\n      \n      <CopyToClipboard \n        text={battletag}\n        onCopy={ () => { addRemoveNotification(\"success\", `'${battletag}' has been copied`) } } >\n        \n        <DivBattletag> \n          <DivBattletagName> {battletagName} </DivBattletagName>\n          <DivBattletagNumber> {battletagNumber} </DivBattletagNumber>\n        </DivBattletag>\n        \n      </CopyToClipboard>\n      \n      <DivRoles> \n        <Div> {(roles.includes(\"Tank\"))? <IconTank width={\"20px\"} height={\"20px\"} /> : <Div></Div>} </Div>\n        <Div> {(roles.includes(\"Bruiser\"))? <IconBruiser width={\"20px\"} height={\"20px\"} /> : <Div></Div>} </Div>\n        <Div> {(roles.includes(\"Melee Assassin\"))? <IconMeleeAssassin width={\"18px\"} height={\"20px\"} /> : <Div></Div>} </Div>\n        <Div> {(roles.includes(\"Ranged Assassin\"))? <IconRangedAssassin width={\"20px\"} height={\"20px\"} /> : <Div></Div>} </Div>\n        <Div> {(roles.includes(\"Healer\"))? <IconHealer width={\"15px\"} height={\"20px\"} /> : <Div></Div>} </Div>\n      </DivRoles>\n      \n      \n      <DivMmr> \n        {mmr}\n      </DivMmr>\n       \n      <DivStatus onClick={(authority===\"administrator\")?onClick_DivStatus: onClick_NotAdministrator}> \n        {IconStatus[statusPlayer]}\n      </DivStatus>\n        \n       \n         \n    </DivRowPlayer>\n  )\n}\n\n\n\n\nconst Entry = ({\n  authority\n  ,idPlanTeam, listPlayerEntry, option\n  \n  , replacePlayerTags, replacePlayerStatus, addRemoveNotification, addNotification, removeNotification\n  \n}) => {\n  \n  const region = option.region;\n  \n  useEffect(()=>{console.log(\"Entry has been rerendered\")})\n  \n  let listPlayer = (Object.keys(listPlayerEntry)).map(element=>listPlayerEntry[element]._id); // list of battletags\n  \n  listPlayer = listPlayer.sort( (player1, player2) => {    // mmr 높은순으로 list of battletags\n      \n      const objPlayer1 = listPlayerEntry.find(objPlayer => objPlayer._id === player1)\n      const objPlayer2 = listPlayerEntry.find(objPlayer => objPlayer._id === player2)\n      \n      return (objPlayer2.mmr.standard[region] - objPlayer1.mmr.standard[region]);\n      // ex 3333, 222, 1111\n    });\n  \n  \n  const listPlayerConfirmed = listPlayer.filter(battletag => {\n    const objPlayer = listPlayerEntry.find(objPlayer => objPlayer._id === battletag)\n    return objPlayer.status === \"confirmed\"\n  } )\n  \n  const listPlayerConfirmedLeader = listPlayerConfirmed.filter(battletag => {\n    const objPlayer = listPlayerEntry.find(objPlayer => objPlayer._id === battletag)\n    return objPlayer.tags.includes(\"leader\");\n  } )\n  \n  const listPlayerConfirmedNonLeader= listPlayerConfirmed.filter(battletag => {\n    const objPlayer = listPlayerEntry.find(objPlayer => objPlayer._id === battletag)\n    return !(objPlayer.tags.includes(\"leader\"));\n  } )\n  \n  \n  \n  const listPlayerPending = listPlayer.filter(battletag => {\n    const objPlayer = listPlayerEntry.find(objPlayer => objPlayer._id === battletag)\n    return objPlayer.status === \"pending\"\n  } )\n  \n  const listPlayerShowing = [...listPlayerConfirmedLeader, ...listPlayerConfirmedNonLeader, ...listPlayerPending];\n  \n  \n  return (\n  \n  <DivEntry>\n    \n    <DivEntryTitle> Entry </DivEntryTitle>\n    \n    <DivDescription> \n    \n      <Div> {`${listPlayerEntry.length} players`} </Div>\n      \n      <Div\n        onMouseEnter={(event)=>addNotification(\"tip\", \"only confirmed players can join teams\", \"tip-confirmed\")}\n        onMouseLeave={(event)=>removeNotification(\"tip-confirmed\")}\n      > \n        <IconConfirmed width={\"20px\"} height={\"20px\"} /> {` : ${listPlayerConfirmed.length}`} \n      </Div>\n      \n      <Div> \n        <IconPending width={\"20px\"} height={\"20px\"} /> {` : ${listPlayerEntry.length - listPlayerConfirmed.length}`} \n      </Div>\n      \n      <Div> \n        <IconLeader width={\"23px\"} height={\"18px\"} isFilled={true} /> {` : ${listPlayerConfirmedLeader.length}`} \n      </Div>\n      \n    </DivDescription>\n    \n    \n    <DivTableEntry> \n    \n    <DivRowHeader> \n      <Div>  </Div>\n      <DivBattletagHeader>  battletag </DivBattletagHeader>\n      <Div> roles </Div>\n      <Div> mmr </Div>\n      <Div>  </Div>\n      \n    </DivRowHeader>\n    \n    { \n      ( listPlayerShowing ).map( (battletag, i) => {\n        \n        const player = listPlayerEntry.find(objPlayer => objPlayer._id === battletag);\n      \n      return (\n        < RowPlayer \n          \n          key={ `${player._id}_${(new Date().getTime()).toString()}` }\n          \n          authority={authority}\n          idPlanTeam={idPlanTeam}\n          \n          battletag={player._id} \n          \n          regions ={player.regions}\n          \n          mmr={player.mmr.standard[region]} \n          \n          roles ={player.roles}\n          \n          isLeader = {player.tags.includes(\"leader\")}\n          statusPlayer={player.status} \n          \n          replacePlayerTags = {replacePlayerTags}\n          replacePlayerStatus = {replacePlayerStatus}\n          addRemoveNotification = {addRemoveNotification}\n        />)\n      }\n      ) \n    }\n      \n    </DivTableEntry>\n    \n    \n  </DivEntry>\n    \n  )\n}\n\n\t  \n//<button onClick= {refetch} > Refectch </button>\n\n\n\nfunction mapStateToProps(state) { \n  return { \n    authority: state.authority\n    ,listPlayerEntry: [...state.planTeam.listPlayerEntry]\n    ,idPlanTeam: state.planTeam._id\n    ,option: state.planTeam.option\n    //,workingAddPlayerToListPlayerEntry: state.working.addPlayerToListPlayerEntry\n    //,readyPlanTeam: state.ready.planTeam\n    //,loading: state.loading\n  }; \n} \n\nfunction mapDispatchToProps(dispatch) { \n  return { \n    replacePlayerTags: (battletag, tag, true_false) => dispatch(replacePlayerTags(battletag, tag, true_false))\n    ,replacePlayerStatus: (battletag, status) => dispatch(replacePlayerStatus(battletag, status))\n    ,addRemoveNotification: (situation, message, time) => dispatch( addRemoveNotification(situation, message, time) )\n    \n    ,addNotification: (situation, message, idNotification) => dispatch(addNotification(situation, message, idNotification))\n    ,removeNotification: (idNotification) => dispatch(removeNotification(idNotification))\n  }; \n}\n\n\n// TableEntry 컴포넌트에서 redux의 state, dispatch 를 일부분 골라서 이용가능하게 된다\n// connect(mapStateToProps, mapDispatchToProps)(RowPlayer);    https://stackoverflow.com/questions/46276810/what-is-the-necessity-of-export-default-connect-when-you-are-connecting-your-r\nexport default connect(mapStateToProps, mapDispatchToProps)(Entry);"]},"metadata":{},"sourceType":"module"}