{"ast":null,"code":"import _regeneratorRuntime from\"/usr/projects/parallel-storm/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/usr/projects/parallel-storm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _taggedTemplateLiteral from\"/usr/projects/parallel-storm/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject13(){var data=_taggedTemplateLiteral([\"\\n  font-size: 1.2rem;\\n\"]);_templateObject13=function _templateObject13(){return data;};return data;}function _templateObject12(){var data=_taggedTemplateLiteral([\"\\n  width: 60px;\\n  height: 100%;\\n\"]);_templateObject12=function _templateObject12(){return data;};return data;}function _templateObject11(){var data=_taggedTemplateLiteral([\"\\n\\twidth: 160px;\\n\\theight: 100%;\\n\"]);_templateObject11=function _templateObject11(){return data;};return data;}function _templateObject10(){var data=_taggedTemplateLiteral([\"\\n\\n\\theight: 2rem;\\n\\tdisplay: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  \\n  & > * {\\n  \\tmargin-left: 5px;\\n  \\tmargin-right: 5px;\\n  }\\n\"]);_templateObject10=function _templateObject10(){return data;};return data;}function _templateObject9(){var data=_taggedTemplateLiteral([\"\\n\\n\\tdisplay: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  \\n\"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral([\"\\n  color: \",\";\\n\"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n  font-size: 1.6rem;\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: center;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  grid-area: result;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  grid-area: entry;\\n  \\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: center;\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  grid-area: option;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  grid-area: add;\\n  height:100%;\\n  \\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-evenly;\\n  align-items: center;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height:100%;\\n  \\n  @media (max-width: \",\"px ) {\\n    display: grid;\\n    grid-template-columns: 1fr;\\n    grid-template-rows: 240px 240px 400px 400px;\\n    grid-template-areas: \\n      \\\"add\\\"\\n      \\\"option\\\"\\n      \\\"entry\\\"\\n      \\\"result\\\"\\n  }\\n \\n\\n  @media (min-width:  \",\"px) {\\n    display: grid;\\n    grid-template-columns: 1fr 1fr;\\n    grid-template-rows: 300px 1fr;\\n    grid-template-areas: \\n      \\\"add option\\\"\\n      \\\"entry result\\\";\\n  }\\n\\n\\n \\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import styled from'styled-components';import axios from'axios';import{connect}from\"react-redux\";import _readPlanTeam from\"../redux/thunks/readPlanTeam\";import _addRemoveNotification from\"../redux/thunks/addRemoveNotification\";import{Div,Input,Button}from'../styles/DefaultStyles';//import Player from '../components/Player'\nimport TableEntry from'../components/TableEntry';import CreatingPlan from'../components/CreatingPlan';import useAxiosGet from'../tools/hooks/useAxiosGet';import useInput from'../tools/hooks/useInput';var DivTeamGenerator=styled(Div)(_templateObject(),function(props){return props.theme.media.mid_big-1;},function(props){return props.theme.media.mid_big;});var DivAddingPlayer=styled(Div)(_templateObject2());var DivOption=styled(Div)(_templateObject3());var DivEntry=styled(Div)(_templateObject4());var DivResult=styled(Div)(_templateObject5());// DivAdd ~\nvar DivHeader=styled(Div)(_templateObject6());var DivTitle=styled(Div)(_templateObject7());var DivId=styled(Div)(_templateObject8(),function(props){return props.theme.color_weak;});var DivBody=styled(Div)(_templateObject9());var DivInputAdd=styled(Div)(_templateObject10());var InputBattletag=styled(Input)(_templateObject11());var ButtonAdd=styled(Button)(_templateObject12());// ~ DivAdd\n// DivEntry ~\nvar DivEntryTitle=styled(Div)(_templateObject13());// ~ DivEntry\nvar reqPutPlayerMmr=function reqPutPlayerMmr(battletag){return{filter:{_id:battletag}};};// \"listPlayerEntry._id\": { $ne: battletag }  }   //very important  // https://stackoverflow.com/questions/26328891/push-value-to-array-if-key-does-not-exist-mongoose\n// https://stackoverflow.com/questions/26328891/push-value-to-array-if-key-does-not-exist-mongoose\nvar reqAddPlayerToListPlayerEntry=function reqAddPlayerToListPlayerEntry(idPlanTeam,battletag){return{filter:{_id:idPlanTeam,\"listPlayerEntry._id\":{$ne:battletag}// it's important!\n},update:{$addToSet:{listPlayerEntry:{_id:battletag}}}};};// https://ps.avantwing.com/team-generator/sss?ooo 들어가 보기\nvar TeamGenerator=function TeamGenerator(_ref){var match=_ref.match,location=_ref.location,loading=_ref.loading,ready=_ref.ready,planTeam=_ref.planTeam,readPlanTeam=_ref.readPlanTeam,addRemoveNotification=_ref.addRemoveNotification,notification=_ref.notification;var idPlanTeam=match.params.idPlanTeam;var inputBattletag=useInput(\"\");var onClick_ButtonAdd=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var battletag,status;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!inputBattletag.value){_context.next=30;break;}battletag=inputBattletag.value;status={};_context.prev=3;_context.next=6;return axios.put(\"\".concat(process.env.REACT_APP_URL_AHR,\"/PlayerMmr\"),reqPutPlayerMmr(battletag));case 6:status.mmr=true;// mmr 작업이 잘되었다고 표시\nconsole.log(\"HF api:mmr worked well\");_context.next=16;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](3);addRemoveNotification(\"error\",\"battletag is wrong\",5000);console.log(notification);console.log(\"battletag is wrong\");status.mmr=false;// mmr 작업이 정상적으로 끝나지 않았다고 표시 (실제로 에러가 발생하지 않는다)\ncase 16:if(!(status.mmr===true)){_context.next=27;break;}_context.prev=17;_context.next=20;return axios.put(\"\".concat(process.env.REACT_APP_URL_AHR,\"/PlanTeam\"),reqAddPlayerToListPlayerEntry(idPlanTeam,battletag));case 20:console.log(\"ahr:planTeam worked well\");_context.next=27;break;case 23:_context.prev=23;_context.t1=_context[\"catch\"](17);addRemoveNotification(\"error\",\"api of Parallel Storm is not working\",5000);console.log(\"ahr:planTeam failed\");case 27:inputBattletag.setValue(\"\");// input value 초기화\n_context.next=31;break;case 30:// 애초에 battletag를 입력 안했다면.\nconsole.log(\"type battletag first\");case 31:case\"end\":return _context.stop();}}},_callee,null,[[3,10],[17,23]]);}));return function onClick_ButtonAdd(_x){return _ref2.apply(this,arguments);};}();//console.log(`match: `)\n//console.log(match)\n//console.log(`location: `)\n//console.log(location)\nif(match.path===\"/team-generator\"){return/*#__PURE__*/React.createElement(DivTeamGenerator,null,/*#__PURE__*/React.createElement(CreatingPlan,null));}else{//console.log(`idPlanTeam: ${idPlanTeam}`)\nreturn/*#__PURE__*/React.createElement(DivTeamGenerator,null,/*#__PURE__*/React.createElement(DivAddingPlayer,null,/*#__PURE__*/React.createElement(DivHeader,null,/*#__PURE__*/React.createElement(DivTitle,null,\" Team Generator \"),/*#__PURE__*/React.createElement(DivId,null,\" \",\"id: \".concat(idPlanTeam),\" \")),/*#__PURE__*/React.createElement(DivBody,null,/*#__PURE__*/React.createElement(DivInputAdd,null,/*#__PURE__*/React.createElement(InputBattletag,Object.assign({},inputBattletag,{placeholder:\"battletag#1234\"})),/*#__PURE__*/React.createElement(ButtonAdd,{onClick:onClick_ButtonAdd},\" Add \")))),/*#__PURE__*/React.createElement(DivOption,null,\"Option\"),/*#__PURE__*/React.createElement(DivEntry,null,/*#__PURE__*/React.createElement(DivEntryTitle,null,\" Entry \"),/*#__PURE__*/React.createElement(TableEntry,null)),/*#__PURE__*/React.createElement(DivResult,null,\"Result\"));}};function mapStateToProps(state){return{planTeam:state.planTeam,ready:state.ready,loading:state.loading,notification:state.notification};}function mapDispatchToProps(dispatch){return{readPlanTeam:function readPlanTeam(idPlanTeam){return dispatch(_readPlanTeam(idPlanTeam));},addRemoveNotification:function addRemoveNotification(situation,message,time){return dispatch(_addRemoveNotification(situation,message,time));}};}// Home 컴포넌트에서 redux의 state, dispatch 를 일부분 골라서 이용가능하게 된다\nexport default connect(mapStateToProps,mapDispatchToProps)(TeamGenerator);","map":{"version":3,"sources":["/usr/projects/parallel-storm/src/routes/TeamGenerator.js"],"names":["React","styled","axios","connect","readPlanTeam","addRemoveNotification","Div","Input","Button","TableEntry","CreatingPlan","useAxiosGet","useInput","DivTeamGenerator","props","theme","media","mid_big","DivAddingPlayer","DivOption","DivEntry","DivResult","DivHeader","DivTitle","DivId","color_weak","DivBody","DivInputAdd","InputBattletag","ButtonAdd","DivEntryTitle","reqPutPlayerMmr","battletag","filter","_id","reqAddPlayerToListPlayerEntry","idPlanTeam","$ne","update","$addToSet","listPlayerEntry","TeamGenerator","match","location","loading","ready","planTeam","notification","params","inputBattletag","onClick_ButtonAdd","event","value","status","put","process","env","REACT_APP_URL_AHR","mmr","console","log","setValue","path","mapStateToProps","state","mapDispatchToProps","dispatch","situation","message","time"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios';\n\nimport { connect } from \"react-redux\";\nimport readPlanTeam from \"../redux/thunks/readPlanTeam\";\nimport addRemoveNotification from \"../redux/thunks/addRemoveNotification\";\n\n\nimport {Div, Input, Button} from '../styles/DefaultStyles';\n//import Player from '../components/Player'\n\nimport TableEntry from '../components/TableEntry';\nimport CreatingPlan from '../components/CreatingPlan';\nimport useAxiosGet from '../tools/hooks/useAxiosGet';\nimport useInput from '../tools/hooks/useInput';\n\n\nconst DivTeamGenerator = styled(Div)`\n  width: 100%;\n  height:100%;\n  \n  @media (max-width: ${props => (props.theme.media.mid_big -1) }px ) {\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-template-rows: 240px 240px 400px 400px;\n    grid-template-areas: \n      \"add\"\n      \"option\"\n      \"entry\"\n      \"result\"\n  }\n \n\n  @media (min-width:  ${props => (props.theme.media.mid_big) }px) {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-template-rows: 300px 1fr;\n    grid-template-areas: \n      \"add option\"\n      \"entry result\";\n  }\n\n\n \n`;\n\n\n\nconst DivAddingPlayer = styled(Div)`\n  grid-area: add;\n  height:100%;\n  \n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n`;\n\nconst DivOption = styled(Div)`\n  grid-area: option;\n`;\n\nconst DivEntry = styled(Div)`\n  grid-area: entry;\n  \n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n`;\n\nconst DivResult = styled(Div)`\n  grid-area: result;\n`;\n\n\n// DivAdd ~\nconst DivHeader = styled(Div)`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n`\n\nconst DivTitle = styled(Div)`\n  font-size: 1.6rem;\n`\nconst DivId = styled(Div)`\n  color: ${props => props.theme.color_weak};\n`\n\n\nconst DivBody = styled(Div)`\n\n\tdisplay: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  \n`\n\nconst DivInputAdd = styled(Div)`\n\n\theight: 2rem;\n\tdisplay: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  \n  & > * {\n  \tmargin-left: 5px;\n  \tmargin-right: 5px;\n  }\n`\n\nconst InputBattletag = styled(Input)`\n\twidth: 160px;\n\theight: 100%;\n`\n\nconst ButtonAdd = styled(Button)`\n  width: 60px;\n  height: 100%;\n`\n// ~ DivAdd\n\n\n// DivEntry ~\n\nconst DivEntryTitle = styled(Div)`\n  font-size: 1.2rem;\n`\n\n// ~ DivEntry\n\nconst reqPutPlayerMmr = (battletag) => {  \n  return {\n    filter: {_id: battletag }\n  }\n};\n\n// \"listPlayerEntry._id\": { $ne: battletag }  }   //very important  // https://stackoverflow.com/questions/26328891/push-value-to-array-if-key-does-not-exist-mongoose\n\n\n\n// https://stackoverflow.com/questions/26328891/push-value-to-array-if-key-does-not-exist-mongoose\nconst reqAddPlayerToListPlayerEntry = (idPlanTeam, battletag) => {  \n  return ({\n    \n    filter: {\n      _id: idPlanTeam,\n    \t\"listPlayerEntry._id\": { $ne: battletag }  // it's important!\n    }\t\t\n    \n    ,update: {\n      $addToSet: { \n        listPlayerEntry: { _id: battletag }\n    \t}\n  \t}\n  \t\n  })\n};\n\n\n  \n  \n  \n\n// https://ps.avantwing.com/team-generator/sss?ooo 들어가 보기\nconst TeamGenerator = ({match, location, loading, ready, planTeam, readPlanTeam, addRemoveNotification, notification}) => {\n  \n  const idPlanTeam = match.params.idPlanTeam;\n  \n  const inputBattletag = useInput(\"\");\n  \n  \n  \n  const onClick_ButtonAdd = async (event) => {\n    \n    if (inputBattletag.value) {\n       \n        \n      const battletag = inputBattletag.value;\n      \n      let status = {};\n      \n      try {    \n        await axios.put (`${process.env.REACT_APP_URL_AHR}/PlayerMmr`, reqPutPlayerMmr(battletag));\n        \n        status.mmr = true; // mmr 작업이 잘되었다고 표시\n        \n        console.log(\"HF api:mmr worked well\")\n      }\n      catch(error) {\n        addRemoveNotification(\"error\", \"battletag is wrong\", 5000);\n        console.log(notification);\n        \n        console.log(\"battletag is wrong\");\n\n        status.mmr = false; // mmr 작업이 정상적으로 끝나지 않았다고 표시 (실제로 에러가 발생하지 않는다)\n      }\n      \n      if (status.mmr === true) {\n        try {\n          await axios.put( `${process.env.REACT_APP_URL_AHR}/PlanTeam`, reqAddPlayerToListPlayerEntry(idPlanTeam, battletag) ); \n          \n          console.log(\"ahr:planTeam worked well\");\n        }\n        catch(error) {\n          addRemoveNotification(\"error\", \"api of Parallel Storm is not working\", 5000);\n          \n          console.log(\"ahr:planTeam failed\");\n        }\n      }\n      \n      inputBattletag.setValue(\"\");\n      \n      // input value 초기화\n      \n    } else { // 애초에 battletag를 입력 안했다면.\n      console.log(\"type battletag first\")\n    }\n  }\n\n\n  //console.log(`match: `)\n  //console.log(match)\n  \n  //console.log(`location: `)\n  //console.log(location)\n  \n  if (match.path === \"/team-generator\") { return (\n    \n      <DivTeamGenerator>\n      \n      \n        <CreatingPlan />\n        \n      \n      </DivTeamGenerator>\n    \n    )}\n  \n  else {\n    \n    //console.log(`idPlanTeam: ${idPlanTeam}`)\n    return (\n      <DivTeamGenerator>\n        \n        \n        <DivAddingPlayer>\n        \n          <DivHeader>\n            <DivTitle> Team Generator </DivTitle>\n            \n            <DivId> {`id: ${idPlanTeam}`} </DivId>\n          </DivHeader>\n          \n          \n          \n         <DivBody>\n\t   \n    \t\t    <DivInputAdd>\n    \t\t      <InputBattletag {...inputBattletag} placeholder=\"battletag#1234\" />\n\t\t          <ButtonAdd onClick = {onClick_ButtonAdd} > Add </ButtonAdd>\n    \t\t    </DivInputAdd>\n    \t\t    \n    \t   </DivBody>\n        \n        </DivAddingPlayer>\n        \n        \n        <DivOption>\n          Option\n        </DivOption>\n      \n        <DivEntry>\n        \n          <DivEntryTitle> Entry </DivEntryTitle>\n        \n          <TableEntry />\n        </DivEntry>\n      \n      \n        <DivResult>\n          Result\n        </DivResult>\n      \n      </DivTeamGenerator>\n    );\n  }\n}\n\n\n\nfunction mapStateToProps(state) { \n  return { \n    planTeam: state.planTeam\n    ,ready: state.ready \n    ,loading: state.loading\n    , notification: state.notification\n  }; \n} \n\nfunction mapDispatchToProps(dispatch) { \n  return { \n    readPlanTeam: (idPlanTeam) => dispatch(readPlanTeam(idPlanTeam)) \n    ,addRemoveNotification: (situation, message, time) => dispatch(addRemoveNotification(situation, message, time))\n  }; \n}\n\n// Home 컴포넌트에서 redux의 state, dispatch 를 일부분 골라서 이용가능하게 된다\nexport default connect(mapStateToProps, mapDispatchToProps)(TeamGenerator);\n"]},"metadata":{},"sourceType":"module"}