{"ast":null,"code":"import axios from 'axios';\nimport dotenv from 'dotenv';\nimport { REPLACE_READY, REPLACE_LOADING, REPLACE_DATA, ADD_NOTIFICATION, REMOVE_NOTIFICATION } from '../store';\nimport { replaceRerender, replaceReady, replaceLoading, replaceData, addNotification, removeNotification } from '../store';\nimport addRemoveNotification from \"./addRemoveNotification\"; // functions that dispatch actions which are from return fundamental action creators\n\nconst readPlanTeam = idPlanTeam => {\n  return async (dispatch, getState, axios) => {\n    const onSuccess = newPlanTeam => {\n      dispatch(replaceData(\"planTeam\", newPlanTeam)); // 이게 먼저 돼고, 아래 loading, ready 수정해 주어야 한다!!!\n\n      dispatch(replaceData(\"idPlanTeam\", newPlanTeam._id));\n      dispatch(replaceReady(\"planTeam\", true));\n      dispatch(replaceLoading(\"planTeam\", false));\n      dispatch(replaceRerender(\"idPlanTeam\"));\n    };\n\n    const onError = error => {\n      dispatch(replaceData(\"planTeam\", { ...newPlanTeam\n      }));\n      dispatch(replaceReady(\"planTeam\", false));\n      dispatch(replaceLoading(\"planTeam\", false));\n      addRemoveNotification(\"error\", \"Reading planTeam has failed\", 4000); //dispatch( replaceRerender(\"planTeam\") );\n    };\n\n    try {\n      dispatch(replaceReady(\"planTeam\", false));\n      dispatch(replaceLoading(\"planTeam\", true));\n      const response = await axios.get(`${process.env.REACT_APP_URL_AHR}/plan-team/${idPlanTeam}`);\n      const newPlanTeam = response.data;\n      onSuccess(newPlanTeam);\n    } // try\n    catch (error) {\n      onError(error);\n    } //catch\n\n  };\n}; // readPlanTeam\n\n\nexport default readPlanTeam;","map":{"version":3,"sources":["/usr/projects/parallel-storm/src/redux/thunks/readPlanTeam.js"],"names":["axios","dotenv","REPLACE_READY","REPLACE_LOADING","REPLACE_DATA","ADD_NOTIFICATION","REMOVE_NOTIFICATION","replaceRerender","replaceReady","replaceLoading","replaceData","addNotification","removeNotification","addRemoveNotification","readPlanTeam","idPlanTeam","dispatch","getState","onSuccess","newPlanTeam","_id","onError","error","response","get","process","env","REACT_APP_URL_AHR","data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AAEA,SAAQC,aAAR,EAAuBC,eAAvB,EAAwCC,YAAxC,EAAsDC,gBAAtD,EAAwEC,mBAAxE,QAAkG,UAAlG;AACA,SAAQC,eAAR,EAAyBC,YAAzB,EAAuCC,cAAvC,EAAuDC,WAAvD,EAAoEC,eAApE,EAAqFC,kBAArF,QAA8G,UAA9G;AACA,OAAOC,qBAAP,MAAkC,yBAAlC,C,CAIA;;AACA,MAAMC,YAAY,GAAIC,UAAD,IAAgB;AAEnC,SAAO,OAAOC,QAAP,EAAiBC,QAAjB,EAA2BjB,KAA3B,KAAqC;AAE1C,UAAMkB,SAAS,GAAIC,WAAD,IAAiB;AAEjCH,MAAAA,QAAQ,CAAEN,WAAW,CAAC,UAAD,EAAaS,WAAb,CAAb,CAAR,CAFiC,CAEkB;;AACnDH,MAAAA,QAAQ,CAAEN,WAAW,CAAC,YAAD,EAAeS,WAAW,CAACC,GAA3B,CAAb,CAAR;AACAJ,MAAAA,QAAQ,CAAER,YAAY,CAAC,UAAD,EAAa,IAAb,CAAd,CAAR;AACAQ,MAAAA,QAAQ,CAAEP,cAAc,CAAC,UAAD,EAAa,KAAb,CAAhB,CAAR;AAEAO,MAAAA,QAAQ,CAAET,eAAe,CAAC,YAAD,CAAjB,CAAR;AACD,KARD;;AAWA,UAAMc,OAAO,GAAIC,KAAD,IAAU;AAExBN,MAAAA,QAAQ,CAAEN,WAAW,CAAC,UAAD,EAAa,EAAC,GAAGS;AAAJ,OAAb,CAAb,CAAR;AACAH,MAAAA,QAAQ,CAAER,YAAY,CAAC,UAAD,EAAa,KAAb,CAAd,CAAR;AACAQ,MAAAA,QAAQ,CAAEP,cAAc,CAAC,UAAD,EAAa,KAAb,CAAhB,CAAR;AAEAI,MAAAA,qBAAqB,CAAC,OAAD,EAAU,6BAAV,EAAyC,IAAzC,CAArB,CANwB,CAQxB;AACD,KATD;;AAYA,QAAI;AAEFG,MAAAA,QAAQ,CAAER,YAAY,CAAC,UAAD,EAAa,KAAb,CAAd,CAAR;AACAQ,MAAAA,QAAQ,CAAEP,cAAc,CAAC,UAAD,EAAa,IAAb,CAAhB,CAAR;AAEA,YAAMc,QAAQ,GAAG,MAAMvB,KAAK,CAACwB,GAAN,CAAY,GAAEC,OAAO,CAACC,GAAR,CAAYC,iBAAkB,cAAaZ,UAAW,EAApE,CAAvB;AAEA,YAAMI,WAAW,GAAGI,QAAQ,CAACK,IAA7B;AAGAV,MAAAA,SAAS,CAACC,WAAD,CAAT;AAED,KAZD,CAYE;AAEF,WAAOG,KAAP,EAAc;AACZD,MAAAA,OAAO,CAACC,KAAD,CAAP;AACD,KAzCyC,CAyCxC;;AAEH,GA3CD;AA4CD,CA9CD,C,CA8CE;;;AAEF,eAAgBR,YAAhB","sourcesContent":["import axios from 'axios';\r\nimport dotenv from 'dotenv';\r\n\r\nimport {REPLACE_READY, REPLACE_LOADING, REPLACE_DATA, ADD_NOTIFICATION, REMOVE_NOTIFICATION} from '../store';\r\nimport {replaceRerender, replaceReady, replaceLoading, replaceData, addNotification, removeNotification} from '../store'\r\nimport addRemoveNotification from \"./addRemoveNotification\";\r\n\r\n\r\n\r\n// functions that dispatch actions which are from return fundamental action creators\r\nconst readPlanTeam = (idPlanTeam) => {   \r\n  \r\n  return async (dispatch, getState, axios) => { \r\n\r\n    const onSuccess = (newPlanTeam) => { \r\n      \r\n      dispatch( replaceData(\"planTeam\", newPlanTeam) );  // 이게 먼저 돼고, 아래 loading, ready 수정해 주어야 한다!!!\r\n      dispatch( replaceData(\"idPlanTeam\", newPlanTeam._id) );\r\n      dispatch( replaceReady(\"planTeam\", true) );\r\n      dispatch( replaceLoading(\"planTeam\", false) ); \r\n      \r\n      dispatch( replaceRerender(\"idPlanTeam\") );\r\n    } \r\n\r\n\r\n    const onError = (error) =>{ \r\n      \r\n      dispatch( replaceData(\"planTeam\", {...newPlanTeam}) );\r\n      dispatch( replaceReady(\"planTeam\", false) );\r\n      dispatch( replaceLoading(\"planTeam\", false) ); \r\n      \r\n      addRemoveNotification(\"error\", \"Reading planTeam has failed\", 4000);\r\n      \r\n      //dispatch( replaceRerender(\"planTeam\") );\r\n    } \r\n\r\n\r\n    try { \r\n      \r\n      dispatch( replaceReady(\"planTeam\", false) );\r\n      dispatch( replaceLoading(\"planTeam\", true) ); \r\n      \r\n      const response = await axios.get( `${process.env.REACT_APP_URL_AHR}/plan-team/${idPlanTeam}`);\r\n      \r\n      const newPlanTeam = response.data;\r\n      \r\n      \r\n      onSuccess(newPlanTeam);\r\n  \r\n    } // try\r\n    \r\n    catch (error) { \r\n      onError(error); \r\n    } //catch\r\n\r\n  } \r\n} // readPlanTeam\r\n    \r\nexport default  readPlanTeam;"]},"metadata":{},"sourceType":"module"}