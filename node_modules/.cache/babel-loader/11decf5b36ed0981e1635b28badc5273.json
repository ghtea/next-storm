{"ast":null,"code":"import _defineProperty from\"/usr/projects/parallel-storm/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"/usr/projects/parallel-storm/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/usr/projects/parallel-storm/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{getTimeStamp}from'../tools/vanilla/time';import{toggleArrayElement}from'../tools/vanilla/array';//const REPLACE_RERENDER = \"REPLACE_RERENDER\";\nvar REPLACE_READY=\"REPLACE_READY\";var REPLACE_LOADING=\"REPLACE_LOADING\";var REPLACE_WORKING=\"REPLACE_WORKING\";var REPLACE_DATA=\"REPLACE_DATA\";var ADD_NOTIFICATION=\"ADD_NOTIFICATION\";var REMOVE_NOTIFICATION=\"REMOVE_NOTIFICATION\";var ADD_RESULT=\"ADD_RESULT\";var DELETE_RESULT=\"DELETE_RESULT\";var REPLACE_PLAYER_TAGS=\"REPLACE_PLAYER_TAGS\";var REPLACE_PLAYER_STATUS=\"REPLACE_PLAYER_STATUS\";var REPLACE_REGION=\"REPLACE_REGION\";var REPLACE_NUMBER=\"REPLACE_NUMBER\";var stateInitial={// foundamental \n/*\n    rerender: {\n      planTeam: \"\"\n    }*/ready:{planTeam:false},loading:{planTeam:false},working:{createPlan:false,addPlayer:false,putPlayerMmr:false,addPlayerToListPlayerEntry:false,addPlayerMmrStandardToListPlayerEntry:false},notification:[]// others\n,authority:\"unknown\"// \"administrator\" \"viewer\"\n,idPlanTeam:\"\",planTeam:{_id:\"_id\",password:\"password\",title:\"title\",listResult:[],listPlayerEntry:[{_id:\"test\",tags:[]}],option:{}},themeName:\"light\"};var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:stateInitial;var// 액션별로 새로운 state 반환하기\naction=arguments.length>1?arguments[1]:undefined;switch(action.type){/*\n    case REPLACE_RERENDER:\n      return {\n      \t...state, \n      \trerender: {\n      \t  ...state.rerender\n      \t  ,[action.which]: getTimeStamp()\n      \t}\n      };\n      */case REPLACE_DATA:if(!!action.data&&action.data.constructor===Array){return _objectSpread({},state,_defineProperty({},action.which,_toConsumableArray(action.data)));}else if(!!action.data&&action.data.constructor===Object){return _objectSpread({},state,_defineProperty({},action.which,_objectSpread({},action.data)));}else{return _objectSpread({},state,_defineProperty({},action.which,action.data));}case REPLACE_READY:return _objectSpread({},state,{ready:_objectSpread({},state.ready,_defineProperty({},action.which,action.true_false))});case REPLACE_LOADING:return _objectSpread({},state,{loading:_objectSpread({},state.loading,_defineProperty({},action.which,action.true_false))});case REPLACE_WORKING:return _objectSpread({},state,{working:_objectSpread({},state.working,_defineProperty({},action.which,action.true_false))});case ADD_NOTIFICATION:var listIdNotification=state.notification.map(function(element){return element.idNotification;});// list of idNotification\nif(!listIdNotification.includes(action.idNotification)){// 기존에 동일한 아이디의 알림이 없어야 추가\nreturn _objectSpread({},state,{notification:[{situation:action.situation,message:action.message,idNotification:action.idNotification}].concat(_toConsumableArray(state.notification))});}else{return state;}case REMOVE_NOTIFICATION:return _objectSpread({},state,{notification:state.notification.filter(function(element){return element.idNotification!==action.idNotification;})});case ADD_RESULT:// 같은 id의 result 가 이미 존재하면 그거 먼저 빼놓기\nvar listResultAlreday=state.planTeam.listResult.filter(function(element){return element._id===action.result._id;});var listResultOthers=state.planTeam.listResult.filter(function(element){return element._id!==action.result._id;});var listResultAll=[action.result].concat(_toConsumableArray(listResultOthers));var listResultLocal=listResultAll.filter(function(element){return element._id===\"local\";});var listResultNotLocal=listResultAll.filter(function(element){return element._id!==\"local\";});var listResultAllSorted=[].concat(_toConsumableArray(listResultLocal),_toConsumableArray(listResultNotLocal));return _objectSpread({},state,{planTeam:_objectSpread({},state.planTeam,{listResult:_toConsumableArray(listResultAllSorted)})});// return\ncase DELETE_RESULT:var listResultFiltered=state.planTeam.listResult.filter(function(element){return element._id!==action.idResult;});return _objectSpread({},state,{planTeam:_objectSpread({},state.planTeam,{listResult:_toConsumableArray(listResultFiltered)})});// return\ncase REPLACE_REGION:return _objectSpread({},state,{planTeam:_objectSpread({},state.planTeam,{option:_objectSpread({},state.planTeam.option,{region:action.region})})});case REPLACE_NUMBER:var whichNumber;var valueCurrent;if(action.which===\"team\"){whichNumber=\"numberTeams\";valueCurrent=action.pairNumber[0];}else if(action.which===\"group\"){whichNumber=\"numberGroups\";valueCurrent=action.pairNumber[1];}if(action.how===\"center\"){return _objectSpread({},state,{planTeam:_objectSpread({},state.planTeam,{option:_objectSpread({},state.planTeam.option,_defineProperty({},whichNumber,0))})});}else if(action.how===\"plus\"){return _objectSpread({},state,{planTeam:_objectSpread({},state.planTeam,{option:_objectSpread({},state.planTeam.option,_defineProperty({},whichNumber,state.planTeam.option[whichNumber]+1))})});}else if(action.how===\"minus\"&&!(valueCurrent==0)){return _objectSpread({},state,{planTeam:_objectSpread({},state.planTeam,{option:_objectSpread({},state.planTeam.option,_defineProperty({},whichNumber,state.planTeam.option[whichNumber]-1))})});}else if(action.how===\"minus\"&&valueCurrent==0){return _objectSpread({},state,{planTeam:_objectSpread({},state.planTeam,{option:_objectSpread({},state.planTeam.option,_defineProperty({},whichNumber,0))})});}case REPLACE_PLAYER_TAGS:var index1=state.planTeam.listPlayerEntry.findIndex(function(objPlayer){return objPlayer._id===action.battletag;});return _objectSpread({},state,{planTeam:_objectSpread({},state.planTeam,{listPlayerEntry:state.planTeam.listPlayerEntry.map(function(objPlayer){return objPlayer._id===action.battletag?_objectSpread({},objPlayer,{tags:toggleArrayElement(state.planTeam.listPlayerEntry[index1][\"tags\"],action.tag,action.true_false)}):objPlayer;})})});case REPLACE_PLAYER_STATUS:return _objectSpread({},state,{planTeam:_objectSpread({},state.planTeam,{listPlayerEntry:state.planTeam.listPlayerEntry.map(function(objPlayer){return objPlayer._id===action.battletag?_objectSpread({},objPlayer,{status:action.status}):objPlayer;})})});default:return state;}};export default reducer;","map":{"version":3,"sources":["/usr/projects/parallel-storm/src/redux/reducer.js"],"names":["getTimeStamp","toggleArrayElement","REPLACE_READY","REPLACE_LOADING","REPLACE_WORKING","REPLACE_DATA","ADD_NOTIFICATION","REMOVE_NOTIFICATION","ADD_RESULT","DELETE_RESULT","REPLACE_PLAYER_TAGS","REPLACE_PLAYER_STATUS","REPLACE_REGION","REPLACE_NUMBER","stateInitial","ready","planTeam","loading","working","createPlan","addPlayer","putPlayerMmr","addPlayerToListPlayerEntry","addPlayerMmrStandardToListPlayerEntry","notification","authority","idPlanTeam","_id","password","title","listResult","listPlayerEntry","tags","option","themeName","reducer","state","action","type","data","constructor","Array","which","Object","true_false","listIdNotification","map","element","idNotification","includes","situation","message","filter","listResultAlreday","result","listResultOthers","listResultAll","listResultLocal","listResultNotLocal","listResultAllSorted","listResultFiltered","idResult","region","whichNumber","valueCurrent","pairNumber","how","index1","findIndex","objPlayer","battletag","tag","status"],"mappings":"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","sourcesContent":["import {getTimeStamp} from '../tools/vanilla/time'\nimport {toggleArrayElement} from '../tools/vanilla/array'\n\n//const REPLACE_RERENDER = \"REPLACE_RERENDER\";\nconst REPLACE_READY = \"REPLACE_READY\";\nconst REPLACE_LOADING = \"REPLACE_LOADING\";\nconst REPLACE_WORKING = \"REPLACE_WORKING\";\n\nconst REPLACE_DATA = \"REPLACE_DATA\";\n\n\nconst ADD_NOTIFICATION = \"ADD_NOTIFICATION\";\nconst REMOVE_NOTIFICATION = \"REMOVE_NOTIFICATION\";\n\nconst ADD_RESULT = \"ADD_RESULT\";\nconst DELETE_RESULT = \"DELETE_RESULT\";\n\nconst REPLACE_PLAYER_TAGS = \"REPLACE_PLAYER_TAGS\";\nconst REPLACE_PLAYER_STATUS = \"REPLACE_PLAYER_STATUS\";\nconst REPLACE_REGION = \"REPLACE_REGION\";\nconst REPLACE_NUMBER = \"REPLACE_NUMBER\";\n\n\nconst stateInitial = { \n    \n    // foundamental \n    /*\n    rerender: {\n      planTeam: \"\"\n    }*/\n    \n    ready : {\n      planTeam: false\n    }\n    \n    ,loading : {\n      planTeam: false\n    }\n    \n    \n    ,working : {\n      createPlan: false\n      \n      ,addPlayer: false\n      ,putPlayerMmr: false\n      ,addPlayerToListPlayerEntry: false\n      ,addPlayerMmrStandardToListPlayerEntry: false\n    }\n    \n    ,notification : []\n    \n    \n    // others\n    ,authority: \"unknown\" // \"administrator\" \"viewer\"\n    \n    ,idPlanTeam: \"\"\n    \n    ,planTeam: {\n      _id:\"_id\"\n      ,password:\"password\"\n      ,title:\"title\"\n      ,listResult:[]\n      ,listPlayerEntry: [\n        {\n          _id: \"test\"\n          , tags: []\n        }\n      ]\n      , option: {}\n    }\n    \n    \n    ,themeName: \"light\"\n    \n  };\n\n\n\nconst reducer = (\n  \n  // 기본값 설정\n  state = stateInitial, \n  \n  // 액션별로 새로운 state 반환하기\n  action) => {\n    \n  switch (action.type) {\n    \n    /*\n    case REPLACE_RERENDER:\n      return {\n      \t...state, \n      \trerender: {\n      \t  ...state.rerender\n      \t  ,[action.which]: getTimeStamp()\n      \t}\n      };\n      */\n      \n    case REPLACE_DATA:\n      \n      if ( (!!action.data) && (action.data.constructor === Array) ) {\n        return {\n      \t...state, \n      \t[action.which]: [...action.data]\n        }\n      }\n      \n      else if ( (!!action.data) && (action.data.constructor === Object) ) {\n        return {\n      \t...state, \n      \t[action.which]: {...action.data}\n        }\n      }\n      else {\n        return {\n        \t...state, \n        \t[action.which]: action.data\n        }\n      }\n      \n    case REPLACE_READY:\n      return {\n      \t...state, \n      \tready: {\n      \t  ...state.ready,\n      \t  [action.which]: action.true_false\n      \t}\n      };\n      \n    case REPLACE_LOADING:\n      return {\n      \t...state, \n      \tloading: {\n      \t  ...state.loading,\n      \t  [action.which]: action.true_false\n      \t}\n      };\n      \n    case REPLACE_WORKING:\n      return {\n      \t...state, \n      \tworking: {\n      \t  ...state.working,\n      \t  [action.which]: action.true_false\n      \t}\n      };\n      \n    case ADD_NOTIFICATION:\n      \n      const listIdNotification = state.notification.map(element => element.idNotification); // list of idNotification\n      if ( !(listIdNotification.includes(action.idNotification)) ) {  // 기존에 동일한 아이디의 알림이 없어야 추가\n        return {\n      \t...state, \n      \t\n      \tnotification: [\n      \t  {\n      \t    situation: action.situation\n      \t    ,message: action.message\n      \t    ,idNotification: action.idNotification\n      \t  }\n      \t  , ...state.notification\n      \t]\n      \t\n        };\n      }\n      else {return state}\n      \n      \n    \n    case REMOVE_NOTIFICATION:\n      return {\n      \t...state, \n      \tnotification: state.notification.filter(element => element.idNotification !== action.idNotification)\n      };\n    \n    \n    case ADD_RESULT:\n      \n      // 같은 id의 result 가 이미 존재하면 그거 먼저 빼놓기\n      \n      const listResultAlreday = state.planTeam.listResult.filter(element => element._id === action.result._id);\n      const listResultOthers = state.planTeam.listResult.filter(element => element._id !== action.result._id);\n      \n    \n      const listResultAll = [action.result, ...listResultOthers];\n      \n      const listResultLocal = listResultAll.filter(element => element._id === \"local\");\n      const listResultNotLocal = listResultAll.filter(element => element._id !== \"local\");\n      \n      const listResultAllSorted = [...listResultLocal, ...listResultNotLocal];\n      \n      return {\n      \t...state, \n      \tplanTeam: {\n      \t  ...state.planTeam\n      \t  , listResult: [...listResultAllSorted]\n      \t}\n      } // return\n      \n      \n    case DELETE_RESULT:\n      \n      const listResultFiltered = state.planTeam.listResult.filter(element => element._id !== action.idResult);\n      \n      return {\n      \t...state, \n      \tplanTeam: {\n      \t  ...state.planTeam\n      \t  , listResult: [...listResultFiltered]\n      \t}\n      } // return\n      \n      \n    case REPLACE_REGION:\n      return {\n      \t...state, \n      \t\n      \tplanTeam: {\n      \t  ...state.planTeam\n      \t  , option: {\n      \t    ...state.planTeam.option\n      \t    , region: action.region\n      \t  }\n      \t}\n      \t\n      };\n      \n    case REPLACE_NUMBER:\n      \n      let whichNumber;\n      let valueCurrent;\n      \n      if (action.which === \"team\") {\n        whichNumber = \"numberTeams\"\n        valueCurrent = action.pairNumber[0];\n      }\n      else if (action.which === \"group\") {\n        whichNumber = \"numberGroups\"\n        valueCurrent = action.pairNumber[1];\n      }\n      \n      \n        \n      \n      if (action.how === \"center\") {\n        return {\n          ...state,\n          planTeam: {\n            ...state.planTeam\n        \t  , option: {\n        \t    ...state.planTeam.option\n        \t    , [whichNumber]: 0\n        \t  }\n          }\n        }\n      }\n      else if  (action.how === \"plus\") {\n        return {\n          ...state,\n          planTeam: {\n            ...state.planTeam\n        \t  , option: {\n        \t    ...state.planTeam.option\n        \t    , [whichNumber]: ( (state.planTeam.option)[whichNumber] + 1)\n        \t  }\n          }\n        }\n      }\n      else if  (action.how === \"minus\" && !(valueCurrent == 0)) {\n        return {\n          ...state,\n          planTeam: {\n            ...state.planTeam\n        \t  , option: {\n        \t    ...state.planTeam.option\n        \t    , [whichNumber]: ( (state.planTeam.option)[whichNumber] - 1)\n        \t  }\n          }\n        }\n      }\n      else if  (action.how === \"minus\" && (valueCurrent == 0)) {\n        return {\n          ...state,\n          planTeam: {\n            ...state.planTeam\n        \t  , option: {\n        \t    ...state.planTeam.option\n        \t    , [whichNumber]: 0\n        \t  }\n          }\n        }\n      }\n       \n      \n    case REPLACE_PLAYER_TAGS:\n      \n      const index1 = (state.planTeam.listPlayerEntry).findIndex( objPlayer => objPlayer._id === action.battletag);\n      \n      \n      return {\n        ...state, \n      \t\n      \tplanTeam: {\n      \t  ...state.planTeam\n      \t  \n      \t  , listPlayerEntry: state.planTeam.listPlayerEntry.map(\n      \t      objPlayer => (objPlayer._id === action.battletag)? \n      \t        {...objPlayer, tags:toggleArrayElement(state.planTeam.listPlayerEntry[index1][\"tags\"], action.tag, action.true_false) }\n      \t        : objPlayer\n      \t    )\n      \t}\n      }\n    \n    case REPLACE_PLAYER_STATUS:\n      \n\n      return {\n        ...state, \n      \t\n      \tplanTeam: {\n      \t  ...state.planTeam\n      \t  \n      \t  , listPlayerEntry: state.planTeam.listPlayerEntry.map(\n      \t      objPlayer => (objPlayer._id === action.battletag)? \n      \t        {...objPlayer, status:action.status }\n      \t        : objPlayer\n      \t    )\n      \t}\n      }\n      \n    default:\n      return state;\n  }\n};\n\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}