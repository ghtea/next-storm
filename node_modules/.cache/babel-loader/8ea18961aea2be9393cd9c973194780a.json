{"ast":null,"code":"import _toConsumableArray from\"/usr/projects/parallel-storm/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/usr/projects/parallel-storm/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/usr/projects/parallel-storm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _taggedTemplateLiteral from\"/usr/projects/parallel-storm/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject15(){var data=_taggedTemplateLiteral([\"\\n  \\n\"]);_templateObject15=function _templateObject15(){return data;};return data;}function _templateObject14(){var data=_taggedTemplateLiteral([\"\\n  font-size: 0.9rem;\\n\"]);_templateObject14=function _templateObject14(){return data;};return data;}function _templateObject13(){var data=_taggedTemplateLiteral([\"\\n  \\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  flex-wrap: wrap;\\n  \\n  & > div {\\n    width: auto;   // important!!!\\n    height: auto;\\n  }\\n  \\n  & > div > div {\\n    width: 20px;\\n    height: 20px;\\n    margin: 2px;\\n  }\\n\"]);_templateObject13=function _templateObject13(){return data;};return data;}function _templateObject12(){var data=_taggedTemplateLiteral([\"\\n  font-size: 0.9rem;\\n  \\n  width: auto;\\n   \\n  color: \",\";\\n  display: inline;\\n  text-algin: left;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n\"]);_templateObject12=function _templateObject12(){return data;};return data;}function _templateObject11(){var data=_taggedTemplateLiteral([\"\\n  \\n  width: auto;\\n  max-width: inherit;\\n  \\n  display: inline;\\n  text-algin: left;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n\"]);_templateObject11=function _templateObject11(){return data;};return data;}function _templateObject10(){var data=_taggedTemplateLiteral([\"\\n  justify-self: start;\\n  \\n  padding-left: 10px;\\n  \\n  display: flex;\\n  flex-direction: row;\\n  justify-content: flex-start;\\n  align-items: flex-end;\\n  \\n  cursor: pointer;\\n  \\n  @media (max-width: \",\"px ) {\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: flex-start;\\n  }\\n\"]);_templateObject10=function _templateObject10(){return data;};return data;}function _templateObject9(){var data=_taggedTemplateLiteral([\"\\n  padding-left: 10px;\\n  \\n  display: block;\\n  text-algin: left;\\n\"]);_templateObject9=function _templateObject9(){return data;};return data;}function _templateObject8(){var data=_taggedTemplateLiteral([\"\\n  \\n    \\n\"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 30px 150px 120px 60px 30px; // 20(padding) + 30 + 150 + 120 + 60 + 30 = 410\\n  grid-template-rows: 40px;\\n  \\n  @media (max-width: \",\"px ) {\\n    grid-template-columns: 30px 100px 80px 60px 30px; // \\n    grid-template-rows: 60px;\\n  }\\n  \\n  \\n  border-bottom: 1px solid \",\";\\n  &:last-child {\\n    border-bottom-style: none;\\n  }\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\n  color: \",\";\\n\\n  display: grid;\\n  grid-template-columns: 30px 150px 120px 60px 30px; // 20(padding) + 30 + 150 + 120 + 60 + 30 = 410 => \\uC548\\uC804\\uD558\\uAC8C small_mid 420 \\uC73C\\uB85C \\uD558\\uC790\\n  grid-template-rows: 24px;\\n  \\n  @media (max-width: \",\"px ) {\\n    grid-template-columns: 30px 90px minmax(72px, auto) 60px 30px; // \\n    grid-template-rows: 60px;\\n  }\\n  \\n  & > Div {\\n    font-weight: thin;\\n  }\\n  //background-color: \",\";\\n   \\n  //border-radius:  8px;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\n  margin-top: 10px;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\n  \\n  margin-left: 10px;\\n  margin-right: 10px;\\n  \\n  \\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: flex-start;\\n  \\n  @media (max-width: \",\"px ) {\\n    overflow-y: auto;\\n    height: 320px;\\n  }\\n  \\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n  \\n  margin-bottom: 15px;\\n  margin-top: 10px;\\n  \\n  & > div {\\n\\n    width: auto;\\n    \\n    margin-left: 4px;\\n    margin-right: 4px;\\n    \\n    display: flex;\\n    flex-direction: row;\\n    justify-content: center;\\n    align-items: flex-start;\\n  }\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  font-size: 1.2rem;\\n  font-weight: bold;\\n  \\n  margin-top: 20px;\\n  height: 20px;\\n  margin-bottom: 5px;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  width: auto;\\n  height: 100%;\\n  \\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-start;\\n  align-items: center;\\n  \\n  padding-bottom: 10px;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import dotenv from'dotenv';import React,{useState,useEffect}from'react';import styled from'styled-components';import axios from'axios';//import path from 'path'\nimport{NavLink,useParams}from'react-router-dom';import{connect}from\"react-redux\";import{replacePlayerTags as _replacePlayerTags}from\"../../redux/store\";import{replacePlayerStatus as _replacePlayerStatus}from\"../../redux/store\";import{addNotification as _addNotification,removeNotification as _removeNotification}from\"../../redux/store\";import readPlanTeam from\"../../redux/thunks/readPlanTeam\";import _addRemoveNotification from\"../../redux/thunks/addRemoveNotification\";// https://reacttraining.com/blog/react-router-v5-1/\nimport{Div}from'../../styles/DefaultStyles';import IconConfirmed from'../../svgs/IconConfirmed';import IconPending from'../../svgs/IconPending';import IconInfo from'../../svgs/IconInfo';import IconLeader from'../../svgs/basic/IconLeader';import IconTank from'../../svgs/roles/IconTank';import IconBruiser from'../../svgs/roles/IconBruiser';import IconMeleeAssassin from'../../svgs/roles/IconMeleeAssassin';import IconRangedAssassin from'../../svgs/roles/IconRangedAssassin';import IconHealer from'../../svgs/roles/IconHealer';import{CopyToClipboard}from'react-copy-to-clipboard';// 이상하게 dotenv.config() 안해도 된다 (오히려 하면 에러 발생...)\n//dotenv.config() ;\n//dotenv.config({ path: path.join(__dirname, '../../.env') });\nvar DivEntry=styled(Div)(_templateObject());var DivEntryTitle=styled(Div)(_templateObject2());var DivDescription=styled(Div)(_templateObject3());var DivTableEntry=styled(Div)(_templateObject4(),function(props){return props.theme.media.mid_big-1;});var DivIconLoading=styled(Div)(_templateObject5());/*\ndisplay:grid;\n*/var DivRowHeader=styled(Div)(_templateObject6(),function(props){return props.theme.color_weak;},function(props){return props.theme.media.small_mid-1;},function(props){return props.theme.COLOR_normal;});var DivRowPlayer=styled(Div)(_templateObject7(),function(props){return props.theme.media.small_mid-1;},function(props){return props.theme.color_very_weak;});/*\nconst DivRowPlayer = styled(Div)`\n  display: grid;\n  grid-template-columns: 1fr 60px ${30*4}px 40px 40px; \n  grid-template-rows: 40px;\n  \n  background-color: ${props => props.theme.COLOR_normal};\n  border-bottom: 1px solid ${props => props.theme.color_very_weak};\n  \n  \n  &:nth-child(2) {\n    border-top-left-radius:    10px;\n    border-top-right-radius:   10px;\n    \n  }\n  \n  &:last-child {\n    border-bottom-right-radius: 10px;\n    border-bottom-left-radius:  10px;\n    \n    border-bottom-style: none;\n    \n  }\n\n*/var DivLeader=styled(Div)(_templateObject8());var DivBattletagHeader=styled(Div)(_templateObject9());var DivBattletag=styled(Div)(_templateObject10(),function(props){return props.theme.media.small_mid-1;});var DivBattletagName=styled(Div)(_templateObject11());var DivBattletagNumber=styled(Div)(_templateObject12(),function(props){return props.theme.color_weak;});var DivRoles=styled(Div)(_templateObject13());var DivMmr=styled(Div)(_templateObject14());var DivStatus=styled(Div)(_templateObject15());var RowPlayer=function RowPlayer(_ref){var authority=_ref.authority,idPlanTeam=_ref.idPlanTeam,battletag=_ref.battletag,mmr=_ref.mmr,regions=_ref.regions,roles=_ref.roles,statusPlayer=_ref.statusPlayer,isLeader=_ref.isLeader,replacePlayerTags=_ref.replacePlayerTags,replacePlayerStatus=_ref.replacePlayerStatus,addRemoveNotification=_ref.addRemoveNotification,addNotification=_ref.addNotification,removeNotification=_ref.removeNotification;// for icon which depends on variable\nvar IconStatus={pending:/*#__PURE__*/React.createElement(IconPending,{width:\"20px\",height:\"20px\"}),confirmed:/*#__PURE__*/React.createElement(IconConfirmed,{width:\"20px\",height:\"20px\"})};// 관리자 권한이 필요한 버튼을 클릭했을 때!\nvar onClick_NotAdministrator=function onClick_NotAdministrator(event){addRemoveNotification(\"error\",\"You are not administrator\");};var regexBattletag=/(#\\d*)$/;var listNumberBattletag=battletag.match(regexBattletag);var battletagNumber=listNumberBattletag[0];var battletagName=battletag.replace(regexBattletag,\"\");var onClick_DivLeader=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(isLeader){_context.next=10;break;}replacePlayerTags(battletag,\"leader\",true);_context.next=4;return axios.put(\"\".concat(process.env.REACT_APP_URL_AHR,\"/player/update-tags\"),{idPlanTeam:idPlanTeam,battletag:battletag,tag:\"leader\",true_false:true});case 4:if(!(statusPlayer===\"pending\")){_context.next=8;break;}// 만약 status 가 pending 때는 status 도 confirmed 로 한꺼번에 바꿔주기!\nreplacePlayerStatus(battletag,\"confirmed\");_context.next=8;return axios.put(\"\".concat(process.env.REACT_APP_URL_AHR,\"/player/update-status\"),{idPlanTeam:idPlanTeam,battletag:battletag,status:\"confirmed\"});case 8:_context.next=13;break;case 10:replacePlayerTags(battletag,\"leader\",false);_context.next=13;return axios.put(\"\".concat(process.env.REACT_APP_URL_AHR,\"/player/update-tags\"),{idPlanTeam:idPlanTeam,battletag:battletag,tag:\"leader\",true_false:false});case 13:case\"end\":return _context.stop();}}},_callee);}));return function onClick_DivLeader(_x){return _ref2.apply(this,arguments);};}();var onClick_DivStatus=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var newStatus;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(statusPlayer===\"pending\")){_context2.next=6;break;}replacePlayerStatus(battletag,\"confirmed\");_context2.next=4;return axios.put(\"\".concat(process.env.REACT_APP_URL_AHR,\"/player/update-status\"),{idPlanTeam:idPlanTeam,battletag:battletag,status:\"confirmed\"});case 4:_context2.next=13;break;case 6:// if status was \"confirmed\"\nreplacePlayerStatus(battletag,\"pending\");_context2.next=9;return axios.put(\"\".concat(process.env.REACT_APP_URL_AHR,\"/player/update-status\"),{idPlanTeam:idPlanTeam,battletag:battletag,status:\"pending\"});case 9:if(!(isLeader===true)){_context2.next=13;break;}replacePlayerTags(battletag,\"leader\",false);_context2.next=13;return axios.put(\"\".concat(process.env.REACT_APP_URL_AHR,\"/player/update-tags\"),{idPlanTeam:idPlanTeam,battletag:battletag,tag:\"leader\",true_false:false});case 13:case\"end\":return _context2.stop();}}},_callee2);}));return function onClick_DivStatus(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(DivRowPlayer,null,/*#__PURE__*/React.createElement(DivLeader,{onClick:authority===\"administrator\"?onClick_DivLeader:onClick_NotAdministrator,onMouseEnter:function onMouseEnter(event){return addNotification(\"tip\",\"leaders join teams first, being separated into different teams\",\"tip-leader\");},onMouseLeave:function onMouseLeave(event){return removeNotification(\"tip-leader\");}},/*#__PURE__*/React.createElement(IconLeader,{width:\"23px\",height:\"18px\",isFilled:isLeader})),/*#__PURE__*/React.createElement(CopyToClipboard,{text:battletag,onCopy:function onCopy(){addRemoveNotification(\"success\",\"'\".concat(battletag,\"' has been copied\"));}},/*#__PURE__*/React.createElement(DivBattletag,null,/*#__PURE__*/React.createElement(DivBattletagName,null,\" \",battletagName,\" \"),/*#__PURE__*/React.createElement(DivBattletagNumber,null,\" \",battletagNumber,\" \"))),/*#__PURE__*/React.createElement(DivRoles,null,/*#__PURE__*/React.createElement(Div,null,\" \",roles.includes(\"Tank\")?/*#__PURE__*/React.createElement(IconTank,{width:\"20px\",height:\"20px\"}):/*#__PURE__*/React.createElement(Div,null),\" \"),/*#__PURE__*/React.createElement(Div,null,\" \",roles.includes(\"Bruiser\")?/*#__PURE__*/React.createElement(IconBruiser,{width:\"20px\",height:\"20px\"}):/*#__PURE__*/React.createElement(Div,null),\" \"),/*#__PURE__*/React.createElement(Div,null,\" \",roles.includes(\"Melee Assassin\")?/*#__PURE__*/React.createElement(IconMeleeAssassin,{width:\"18px\",height:\"20px\"}):/*#__PURE__*/React.createElement(Div,null),\" \"),/*#__PURE__*/React.createElement(Div,null,\" \",roles.includes(\"Ranged Assassin\")?/*#__PURE__*/React.createElement(IconRangedAssassin,{width:\"20px\",height:\"20px\"}):/*#__PURE__*/React.createElement(Div,null),\" \"),/*#__PURE__*/React.createElement(Div,null,\" \",roles.includes(\"Healer\")?/*#__PURE__*/React.createElement(IconHealer,{width:\"15px\",height:\"20px\"}):/*#__PURE__*/React.createElement(Div,null),\" \")),/*#__PURE__*/React.createElement(DivMmr,null,mmr),/*#__PURE__*/React.createElement(DivStatus,{onClick:authority===\"administrator\"?onClick_DivStatus:onClick_NotAdministrator,onMouseEnter:function onMouseEnter(event){addNotification(\"tip\",\"pending players can't join teams\",\"tip-pending\");addNotification(\"tip\",\"only confirmed players can join teams\",\"tip-confirmed\");},onMouseLeave:function onMouseLeave(event){removeNotification(\"tip-pending\");removeNotification(\"tip-confirmed\");}},IconStatus[statusPlayer]));};var Entry=function Entry(_ref4){var authority=_ref4.authority,idPlanTeam=_ref4.idPlanTeam,listPlayerEntry=_ref4.listPlayerEntry,option=_ref4.option,replacePlayerTags=_ref4.replacePlayerTags,replacePlayerStatus=_ref4.replacePlayerStatus,addRemoveNotification=_ref4.addRemoveNotification,addNotification=_ref4.addNotification,removeNotification=_ref4.removeNotification;var region=option.region;useEffect(function(){console.log(\"Entry has been rerendered\");});var listPlayer=Object.keys(listPlayerEntry).map(function(element){return listPlayerEntry[element]._id;});// list of battletags\nlistPlayer=listPlayer.sort(function(player1,player2){// mmr 높은순으로 list of battletags\nvar objPlayer1=listPlayerEntry.find(function(objPlayer){return objPlayer._id===player1;});var objPlayer2=listPlayerEntry.find(function(objPlayer){return objPlayer._id===player2;});return objPlayer2.mmr.standard[region]-objPlayer1.mmr.standard[region];// ex 3333, 222, 1111\n});var listPlayerConfirmed=listPlayer.filter(function(battletag){var objPlayer=listPlayerEntry.find(function(objPlayer){return objPlayer._id===battletag;});return objPlayer.status===\"confirmed\";});var listPlayerConfirmedLeader=listPlayerConfirmed.filter(function(battletag){var objPlayer=listPlayerEntry.find(function(objPlayer){return objPlayer._id===battletag;});return objPlayer.tags.includes(\"leader\");});var listPlayerConfirmedNonLeader=listPlayerConfirmed.filter(function(battletag){var objPlayer=listPlayerEntry.find(function(objPlayer){return objPlayer._id===battletag;});return!objPlayer.tags.includes(\"leader\");});var listPlayerPending=listPlayer.filter(function(battletag){var objPlayer=listPlayerEntry.find(function(objPlayer){return objPlayer._id===battletag;});return objPlayer.status===\"pending\";});var listPlayerShowing=[].concat(_toConsumableArray(listPlayerConfirmedLeader),_toConsumableArray(listPlayerConfirmedNonLeader),_toConsumableArray(listPlayerPending));return/*#__PURE__*/React.createElement(DivEntry,null,/*#__PURE__*/React.createElement(DivEntryTitle,null,\" Entry \"),/*#__PURE__*/React.createElement(DivDescription,null,/*#__PURE__*/React.createElement(Div,null,\" \",\"\".concat(listPlayerEntry.length,\" players\"),\" \"),/*#__PURE__*/React.createElement(Div,{onMouseEnter:function onMouseEnter(event){return addNotification(\"tip\",\"only confirmed players can join teams\",\"tip-confirmed\");},onMouseLeave:function onMouseLeave(event){return removeNotification(\"tip-confirmed\");}},/*#__PURE__*/React.createElement(IconConfirmed,{width:\"20px\",height:\"20px\"}),\" \",\" : \".concat(listPlayerConfirmed.length)),/*#__PURE__*/React.createElement(Div,{onMouseEnter:function onMouseEnter(event){return addNotification(\"tip\",\"pending players can't join teams\",\"tip-pending\");},onMouseLeave:function onMouseLeave(event){return removeNotification(\"tip-pending\");}},/*#__PURE__*/React.createElement(IconPending,{width:\"20px\",height:\"20px\"}),\" \",\" : \".concat(listPlayerEntry.length-listPlayerConfirmed.length)),/*#__PURE__*/React.createElement(Div,{onMouseEnter:function onMouseEnter(event){return addNotification(\"tip\",\"leaders join teams first, being separated into different teams\",\"tip-leader\");},onMouseLeave:function onMouseLeave(event){return removeNotification(\"tip-leader\");}},/*#__PURE__*/React.createElement(IconLeader,{width:\"23px\",height:\"18px\",isFilled:true}),\" \",\" : \".concat(listPlayerConfirmedLeader.length))),/*#__PURE__*/React.createElement(DivTableEntry,null,/*#__PURE__*/React.createElement(DivRowHeader,null,/*#__PURE__*/React.createElement(Div,null,\"  \"),/*#__PURE__*/React.createElement(DivBattletagHeader,null,\"  battletag \"),/*#__PURE__*/React.createElement(Div,null,\" roles \"),/*#__PURE__*/React.createElement(Div,null,\" mmr \"),/*#__PURE__*/React.createElement(Div,null,\"  \")),listPlayerShowing.map(function(battletag,i){var player=listPlayerEntry.find(function(objPlayer){return objPlayer._id===battletag;});return/*#__PURE__*/React.createElement(RowPlayer,{key:\"\".concat(player._id,\"_\").concat(new Date().getTime().toString()),authority:authority,idPlanTeam:idPlanTeam,battletag:player._id,regions:player.regions,mmr:player.mmr.standard[region],roles:player.roles,isLeader:player.tags.includes(\"leader\"),statusPlayer:player.status,replacePlayerTags:replacePlayerTags,replacePlayerStatus:replacePlayerStatus,addRemoveNotification:addRemoveNotification,addNotification:addNotification,removeNotification:removeNotification});})));};//<button onClick= {refetch} > Refectch </button>\nfunction mapStateToProps(state){return{authority:state.authority,listPlayerEntry:_toConsumableArray(state.planTeam.listPlayerEntry),idPlanTeam:state.planTeam._id,option:state.planTeam.option//,workingAddPlayerToListPlayerEntry: state.working.addPlayerToListPlayerEntry\n//,readyPlanTeam: state.ready.planTeam\n//,loading: state.loading\n};}function mapDispatchToProps(dispatch){return{replacePlayerTags:function replacePlayerTags(battletag,tag,true_false){return dispatch(_replacePlayerTags(battletag,tag,true_false));},replacePlayerStatus:function replacePlayerStatus(battletag,status){return dispatch(_replacePlayerStatus(battletag,status));},addRemoveNotification:function addRemoveNotification(situation,message,time){return dispatch(_addRemoveNotification(situation,message,time));},addNotification:function addNotification(situation,message,idNotification){return dispatch(_addNotification(situation,message,idNotification));},removeNotification:function removeNotification(idNotification){return dispatch(_removeNotification(idNotification));}};}// TableEntry 컴포넌트에서 redux의 state, dispatch 를 일부분 골라서 이용가능하게 된다\n// connect(mapStateToProps, mapDispatchToProps)(RowPlayer);    https://stackoverflow.com/questions/46276810/what-is-the-necessity-of-export-default-connect-when-you-are-connecting-your-r\nexport default connect(mapStateToProps,mapDispatchToProps)(Entry);","map":{"version":3,"sources":["/usr/projects/parallel-storm/src/components/TeamGenerator/Entry.js"],"names":["dotenv","React","useState","useEffect","styled","axios","NavLink","useParams","connect","replacePlayerTags","replacePlayerStatus","addNotification","removeNotification","readPlanTeam","addRemoveNotification","Div","IconConfirmed","IconPending","IconInfo","IconLeader","IconTank","IconBruiser","IconMeleeAssassin","IconRangedAssassin","IconHealer","CopyToClipboard","DivEntry","DivEntryTitle","DivDescription","DivTableEntry","props","theme","media","mid_big","DivIconLoading","DivRowHeader","color_weak","small_mid","COLOR_normal","DivRowPlayer","color_very_weak","DivLeader","DivBattletagHeader","DivBattletag","DivBattletagName","DivBattletagNumber","DivRoles","DivMmr","DivStatus","RowPlayer","authority","idPlanTeam","battletag","mmr","regions","roles","statusPlayer","isLeader","IconStatus","pending","confirmed","onClick_NotAdministrator","event","regexBattletag","listNumberBattletag","match","battletagNumber","battletagName","replace","onClick_DivLeader","put","process","env","REACT_APP_URL_AHR","tag","true_false","status","onClick_DivStatus","includes","Entry","listPlayerEntry","option","region","console","log","listPlayer","Object","keys","map","element","_id","sort","player1","player2","objPlayer1","find","objPlayer","objPlayer2","standard","listPlayerConfirmed","filter","listPlayerConfirmedLeader","tags","listPlayerConfirmedNonLeader","listPlayerPending","listPlayerShowing","length","i","player","Date","getTime","toString","mapStateToProps","state","planTeam","mapDispatchToProps","dispatch","situation","message","time","idNotification"],"mappings":"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","sourcesContent":["import dotenv from 'dotenv';\nimport React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios';\n\n//import path from 'path'\nimport { NavLink, useParams } from 'react-router-dom';\n\nimport { connect } from \"react-redux\";\nimport {replacePlayerTags} from \"../../redux/store\";\nimport {replacePlayerStatus} from \"../../redux/store\";\nimport {addNotification, removeNotification} from \"../../redux/store\";\n\nimport readPlanTeam from \"../../redux/thunks/readPlanTeam\";\nimport addRemoveNotification from \"../../redux/thunks/addRemoveNotification\";\n\n// https://reacttraining.com/blog/react-router-v5-1/\n\nimport {Div} from '../../styles/DefaultStyles';\n\n\nimport IconConfirmed from '../../svgs/IconConfirmed'\nimport IconPending from '../../svgs/IconPending'\nimport IconInfo from '../../svgs/IconInfo'\nimport IconLeader from '../../svgs/basic/IconLeader'\n\nimport IconTank from '../../svgs/roles/IconTank'\nimport IconBruiser from '../../svgs/roles/IconBruiser'\nimport IconMeleeAssassin from '../../svgs/roles/IconMeleeAssassin'\nimport IconRangedAssassin from '../../svgs/roles/IconRangedAssassin'\nimport IconHealer from '../../svgs/roles/IconHealer'\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\n// 이상하게 dotenv.config() 안해도 된다 (오히려 하면 에러 발생...)\n//dotenv.config() ;\n//dotenv.config({ path: path.join(__dirname, '../../.env') });\n\nconst DivEntry = styled(Div)`\n  width: auto;\n  height: 100%;\n  \n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  \n  padding-bottom: 10px;\n`;\n\nconst DivEntryTitle = styled(Div)`\n  font-size: 1.2rem;\n  font-weight: bold;\n  \n  margin-top: 20px;\n  height: 20px;\n  margin-bottom: 5px;\n`\n\nconst DivDescription = styled(Div)`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  \n  margin-bottom: 15px;\n  margin-top: 10px;\n  \n  & > div {\n\n    width: auto;\n    \n    margin-left: 4px;\n    margin-right: 4px;\n    \n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: flex-start;\n  }\n`\n\n\n\nconst DivTableEntry = styled(Div)`\n  \n  margin-left: 10px;\n  margin-right: 10px;\n  \n  \n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: flex-start;\n  \n  @media (max-width: ${props => (props.theme.media.mid_big -1) }px ) {\n    overflow-y: auto;\n    height: 320px;\n  }\n  \n`\n\nconst DivIconLoading = styled(Div)`\n  margin-top: 10px;\n`\n\n/*\ndisplay:grid;\n*/\n\nconst DivRowHeader = styled(Div)`\n  color: ${props => props.theme.color_weak};\n\n  display: grid;\n  grid-template-columns: 30px 150px 120px 60px 30px; // 20(padding) + 30 + 150 + 120 + 60 + 30 = 410 => 안전하게 small_mid 420 으로 하자\n  grid-template-rows: 24px;\n  \n  @media (max-width: ${props => (props.theme.media.small_mid -1) }px ) {\n    grid-template-columns: 30px 90px minmax(72px, auto) 60px 30px; // \n    grid-template-rows: 60px;\n  }\n  \n  & > Div {\n    font-weight: thin;\n  }\n  //background-color: ${props => props.theme.COLOR_normal};\n   \n  //border-radius:  8px;\n`\n\n\nconst DivRowPlayer = styled(Div)`\n  display: grid;\n  grid-template-columns: 30px 150px 120px 60px 30px; // 20(padding) + 30 + 150 + 120 + 60 + 30 = 410\n  grid-template-rows: 40px;\n  \n  @media (max-width: ${props => (props.theme.media.small_mid -1) }px ) {\n    grid-template-columns: 30px 100px 80px 60px 30px; // \n    grid-template-rows: 60px;\n  }\n  \n  \n  border-bottom: 1px solid ${props => props.theme.color_very_weak};\n  &:last-child {\n    border-bottom-style: none;\n  }\n`\n\n/*\nconst DivRowPlayer = styled(Div)`\n  display: grid;\n  grid-template-columns: 1fr 60px ${30*4}px 40px 40px; \n  grid-template-rows: 40px;\n  \n  background-color: ${props => props.theme.COLOR_normal};\n  border-bottom: 1px solid ${props => props.theme.color_very_weak};\n  \n  \n  &:nth-child(2) {\n    border-top-left-radius:    10px;\n    border-top-right-radius:   10px;\n    \n  }\n  \n  &:last-child {\n    border-bottom-right-radius: 10px;\n    border-bottom-left-radius:  10px;\n    \n    border-bottom-style: none;\n    \n  }\n\n*/\n\nconst DivLeader = styled(Div)`\n  \n    \n`\n\nconst DivBattletagHeader = styled(Div)`\n  padding-left: 10px;\n  \n  display: block;\n  text-algin: left;\n`\n\nconst DivBattletag = styled(Div)`\n  justify-self: start;\n  \n  padding-left: 10px;\n  \n  display: flex;\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: flex-end;\n  \n  cursor: pointer;\n  \n  @media (max-width: ${props => (props.theme.media.small_mid -1) }px ) {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n  }\n`\n\nconst DivBattletagName = styled(Div)`\n  \n  width: auto;\n  max-width: inherit;\n  \n  display: inline;\n  text-algin: left;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\nconst DivBattletagNumber = styled(Div)`\n  font-size: 0.9rem;\n  \n  width: auto;\n   \n  color: ${props => props.theme.color_weak};\n  display: inline;\n  text-algin: left;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n`\n\n\nconst DivRoles = styled(Div)`\n  \n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  \n  & > div {\n    width: auto;   // important!!!\n    height: auto;\n  }\n  \n  & > div > div {\n    width: 20px;\n    height: 20px;\n    margin: 2px;\n  }\n`\nconst DivMmr = styled(Div)`\n  font-size: 0.9rem;\n`\n\nconst DivStatus = styled(Div)`\n  \n`;\n\n\n\n\n\n\nconst RowPlayer = ({\n  authority\n  ,idPlanTeam, battletag, mmr, regions, roles, statusPlayer, isLeader\n  , replacePlayerTags, replacePlayerStatus, addRemoveNotification, addNotification, removeNotification\n}) => {\n  \n  // for icon which depends on variable\n  const IconStatus = {\n    pending: <IconPending width={\"20px\"} height={\"20px\"} />\n    ,confirmed: <IconConfirmed width={\"20px\"} height={\"20px\"} />\n  };\n  \n  // 관리자 권한이 필요한 버튼을 클릭했을 때!\n  const onClick_NotAdministrator = (event) => {\n    addRemoveNotification(\"error\", \"You are not administrator\")\n  }\n  \n  \n  \n  \n  const regexBattletag = /(#\\d*)$/;\n  const listNumberBattletag = battletag.match(regexBattletag);\n  \n  const battletagNumber = listNumberBattletag[0];\n  const battletagName = battletag.replace(regexBattletag, \"\")\n  \n  \n  const onClick_DivLeader = async (event) => {\n    \n    if (!isLeader) { \n      replacePlayerTags(battletag, \"leader\", true);\n      \n      \n      await axios.put (`${process.env.REACT_APP_URL_AHR}/player/update-tags`,\n        { \n          idPlanTeam: idPlanTeam\n          , battletag: battletag\n          , tag: \"leader\"\n          , true_false: true\n        }\n      );\n      \n      if (statusPlayer === \"pending\") { // 만약 status 가 pending 때는 status 도 confirmed 로 한꺼번에 바꿔주기!\n        replacePlayerStatus(battletag, \"confirmed\");\n        \n        await axios.put (`${process.env.REACT_APP_URL_AHR}/player/update-status`,\n          { \n            idPlanTeam: idPlanTeam\n            , battletag: battletag\n            , status: \"confirmed\"\n          }\n        );\n      }\n      \n    }\n    \n    else {\n      replacePlayerTags(battletag, \"leader\", false);\n      \n      await axios.put (`${process.env.REACT_APP_URL_AHR}/player/update-tags`,\n        { \n          idPlanTeam: idPlanTeam\n          , battletag: battletag\n          , tag: \"leader\"\n          , true_false: false\n        }\n      );\n      \n    }\n    \n  }\n  \n  \n  \n  const onClick_DivStatus = async (event) => {\n    \n    let newStatus;\n    if (statusPlayer === \"pending\") {\n      replacePlayerStatus(battletag, \"confirmed\");\n    \n      await axios.put (`${process.env.REACT_APP_URL_AHR}/player/update-status`,\n        { \n          idPlanTeam: idPlanTeam\n          , battletag: battletag\n          , status: \"confirmed\"\n        }\n      );\n      \n    }\n    else { // if status was \"confirmed\"\n      replacePlayerStatus(battletag, \"pending\");\n    \n      await axios.put (`${process.env.REACT_APP_URL_AHR}/player/update-status`,\n        { \n          idPlanTeam: idPlanTeam\n          , battletag: battletag\n          , status: \"pending\"\n        }\n      );\n      \n      if (isLeader === true) {\n        replacePlayerTags(battletag, \"leader\", false);\n        \n        await axios.put (`${process.env.REACT_APP_URL_AHR}/player/update-tags`,\n          { \n            idPlanTeam: idPlanTeam\n            , battletag: battletag\n            , tag: \"leader\"\n            , true_false: false\n          }\n        );\n      }\n    }\n    \n    \n  }\n  \n  \n\n  return (\n    \n    <DivRowPlayer >\n      \n      <DivLeader \n        onClick={(authority===\"administrator\")?onClick_DivLeader: onClick_NotAdministrator}\n        \n        onMouseEnter={(event)=>addNotification(\"tip\", \"leaders join teams first, being separated into different teams\",  \"tip-leader\")}\n        onMouseLeave={(event)=>removeNotification(\"tip-leader\")}\n        \n        > \n        <IconLeader\n          \n          width={\"23px\"}\n          height={\"18px\"}\n          isFilled={isLeader}\n        />  \n      </DivLeader >\n      \n      <CopyToClipboard \n        text={battletag}\n        onCopy={ () => { addRemoveNotification(\"success\", `'${battletag}' has been copied`) } } >\n        \n        <DivBattletag> \n          <DivBattletagName> {battletagName} </DivBattletagName>\n          <DivBattletagNumber> {battletagNumber} </DivBattletagNumber>\n        </DivBattletag>\n        \n      </CopyToClipboard>\n      \n      <DivRoles> \n        <Div> {(roles.includes(\"Tank\"))? <IconTank width={\"20px\"} height={\"20px\"} /> : <Div></Div>} </Div>\n        <Div> {(roles.includes(\"Bruiser\"))? <IconBruiser width={\"20px\"} height={\"20px\"} /> : <Div></Div>} </Div>\n        <Div> {(roles.includes(\"Melee Assassin\"))? <IconMeleeAssassin width={\"18px\"} height={\"20px\"} /> : <Div></Div>} </Div>\n        <Div> {(roles.includes(\"Ranged Assassin\"))? <IconRangedAssassin width={\"20px\"} height={\"20px\"} /> : <Div></Div>} </Div>\n        <Div> {(roles.includes(\"Healer\"))? <IconHealer width={\"15px\"} height={\"20px\"} /> : <Div></Div>} </Div>\n      </DivRoles>\n      \n      \n      <DivMmr> \n        {mmr}\n      </DivMmr>\n       \n      <DivStatus \n        onClick={(authority===\"administrator\")?onClick_DivStatus: onClick_NotAdministrator}\n        \n        onMouseEnter={ (event)=>\n          { \n            addNotification(\"tip\", \"pending players can't join teams\", \"tip-pending\");    \n            addNotification(\"tip\", \"only confirmed players can join teams\", \"tip-confirmed\");     \n          }\n        }\n        \n        onMouseLeave={(event)=>\n          {\n            removeNotification(\"tip-pending\");\n            removeNotification(\"tip-confirmed\");\n          }\n        }\n        > \n        \n        {IconStatus[statusPlayer]}\n      </DivStatus>\n        \n       \n         \n    </DivRowPlayer>\n  )\n}\n\n\n\n\nconst Entry = ({\n  authority\n  ,idPlanTeam, listPlayerEntry, option\n  \n  , replacePlayerTags, replacePlayerStatus, addRemoveNotification, addNotification, removeNotification\n  \n}) => {\n  \n  const region = option.region;\n  \n  useEffect(()=>{console.log(\"Entry has been rerendered\")})\n  \n  let listPlayer = (Object.keys(listPlayerEntry)).map(element=>listPlayerEntry[element]._id); // list of battletags\n  \n  listPlayer = listPlayer.sort( (player1, player2) => {    // mmr 높은순으로 list of battletags\n      \n      const objPlayer1 = listPlayerEntry.find(objPlayer => objPlayer._id === player1)\n      const objPlayer2 = listPlayerEntry.find(objPlayer => objPlayer._id === player2)\n      \n      return (objPlayer2.mmr.standard[region] - objPlayer1.mmr.standard[region]);\n      // ex 3333, 222, 1111\n    });\n  \n  \n  const listPlayerConfirmed = listPlayer.filter(battletag => {\n    const objPlayer = listPlayerEntry.find(objPlayer => objPlayer._id === battletag)\n    return objPlayer.status === \"confirmed\"\n  } )\n  \n  const listPlayerConfirmedLeader = listPlayerConfirmed.filter(battletag => {\n    const objPlayer = listPlayerEntry.find(objPlayer => objPlayer._id === battletag)\n    return objPlayer.tags.includes(\"leader\");\n  } )\n  \n  const listPlayerConfirmedNonLeader= listPlayerConfirmed.filter(battletag => {\n    const objPlayer = listPlayerEntry.find(objPlayer => objPlayer._id === battletag)\n    return !(objPlayer.tags.includes(\"leader\"));\n  } )\n  \n  \n  \n  const listPlayerPending = listPlayer.filter(battletag => {\n    const objPlayer = listPlayerEntry.find(objPlayer => objPlayer._id === battletag)\n    return objPlayer.status === \"pending\"\n  } )\n  \n  const listPlayerShowing = [...listPlayerConfirmedLeader, ...listPlayerConfirmedNonLeader, ...listPlayerPending];\n  \n  \n  return (\n  \n  <DivEntry>\n    \n    <DivEntryTitle> Entry </DivEntryTitle>\n    \n    <DivDescription> \n    \n      <Div> {`${listPlayerEntry.length} players`} </Div>\n      \n      <Div\n        onMouseEnter={(event)=>addNotification(\"tip\", \"only confirmed players can join teams\", \"tip-confirmed\")}\n        onMouseLeave={(event)=>removeNotification(\"tip-confirmed\")}\n      > \n        <IconConfirmed width={\"20px\"} height={\"20px\"} /> {` : ${listPlayerConfirmed.length}`} \n      </Div>\n      \n      <Div\n        onMouseEnter={(event)=>addNotification(\"tip\", \"pending players can't join teams\", \"tip-pending\")}\n        onMouseLeave={(event)=>removeNotification(\"tip-pending\")}\n      >  \n        <IconPending width={\"20px\"} height={\"20px\"} /> {` : ${listPlayerEntry.length - listPlayerConfirmed.length}`} \n      </Div>\n      \n      <Div\n        onMouseEnter={(event)=>addNotification(\"tip\", \"leaders join teams first, being separated into different teams\",  \"tip-leader\")}\n        onMouseLeave={(event)=>removeNotification(\"tip-leader\")}\n      >  \n        <IconLeader width={\"23px\"} height={\"18px\"} isFilled={true} /> {` : ${listPlayerConfirmedLeader.length}`} \n      </Div>\n      \n    </DivDescription>\n    \n    \n    <DivTableEntry> \n    \n    <DivRowHeader> \n      <Div>  </Div>\n      <DivBattletagHeader>  battletag </DivBattletagHeader>\n      <Div> roles </Div>\n      <Div> mmr </Div>\n      <Div>  </Div>\n      \n    </DivRowHeader>\n    \n    { \n      ( listPlayerShowing ).map( (battletag, i) => {\n        \n        const player = listPlayerEntry.find(objPlayer => objPlayer._id === battletag);\n      \n      return (\n        < RowPlayer \n          \n          key={ `${player._id}_${(new Date().getTime()).toString()}` }\n          \n          authority={authority}\n          idPlanTeam={idPlanTeam}\n          \n          battletag={player._id} \n          \n          regions ={player.regions}\n          \n          mmr={player.mmr.standard[region]} \n          \n          roles ={player.roles}\n          \n          isLeader = {player.tags.includes(\"leader\")}\n          statusPlayer={player.status} \n          \n          replacePlayerTags = {replacePlayerTags}\n          replacePlayerStatus = {replacePlayerStatus}\n          addRemoveNotification = {addRemoveNotification}\n          \n          addNotification = {addNotification}\n          removeNotification = {removeNotification}\n        />)\n      }\n      ) \n    }\n      \n    </DivTableEntry>\n    \n    \n  </DivEntry>\n    \n  )\n}\n\n\t  \n//<button onClick= {refetch} > Refectch </button>\n\n\n\nfunction mapStateToProps(state) { \n  return { \n    authority: state.authority\n    ,listPlayerEntry: [...state.planTeam.listPlayerEntry]\n    ,idPlanTeam: state.planTeam._id\n    ,option: state.planTeam.option\n    //,workingAddPlayerToListPlayerEntry: state.working.addPlayerToListPlayerEntry\n    //,readyPlanTeam: state.ready.planTeam\n    //,loading: state.loading\n  }; \n} \n\nfunction mapDispatchToProps(dispatch) { \n  return { \n    replacePlayerTags: (battletag, tag, true_false) => dispatch(replacePlayerTags(battletag, tag, true_false))\n    ,replacePlayerStatus: (battletag, status) => dispatch(replacePlayerStatus(battletag, status))\n    ,addRemoveNotification: (situation, message, time) => dispatch( addRemoveNotification(situation, message, time) )\n    \n    ,addNotification: (situation, message, idNotification) => dispatch(addNotification(situation, message, idNotification))\n    ,removeNotification: (idNotification) => dispatch(removeNotification(idNotification))\n  }; \n}\n\n\n// TableEntry 컴포넌트에서 redux의 state, dispatch 를 일부분 골라서 이용가능하게 된다\n// connect(mapStateToProps, mapDispatchToProps)(RowPlayer);    https://stackoverflow.com/questions/46276810/what-is-the-necessity-of-export-default-connect-when-you-are-connecting-your-r\nexport default connect(mapStateToProps, mapDispatchToProps)(Entry);"]},"metadata":{},"sourceType":"module"}