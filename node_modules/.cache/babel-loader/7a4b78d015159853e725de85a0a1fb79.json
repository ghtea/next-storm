{"ast":null,"code":"var _jsxFileName = \"/usr/projects/parallel-storm/src/components/TeamGenerator/Option.js\";\nimport dotenv from 'dotenv';\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios';\nimport { connect } from \"react-redux\";\nimport { replaceWorking, replaceRegion } from \"../../redux/store\";\nimport readPlanTeam from \"../../redux/thunks/readPlanTeam\";\nimport addRemoveNotification from \"../../redux/thunks/addRemoveNotification\";\nimport { NavLink, useHistory } from 'react-router-dom';\nimport { Div, Input, Button } from '../../styles/DefaultStyles';\nimport useInput from '../../tools/hooks/useInput';\nimport { getTimeStamp } from '../../tools/vanilla/time';\nimport IconWorking from '../../svgs/IconWorking';\nimport IconCopy from '../../svgs/basic/IconCopy';\nimport IconMinus from '../../svgs/basic/IconMinus';\nimport IconPlus from '../../svgs/basic/IconPlus';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport flagNA from '../../images/flags/NA.png';\nimport flagEU from '../../images/flags/EU.png';\nimport flagKR from '../../images/flags/KR.png';\nimport flagCN from '../../images/flags/CN.png'; // STYLES\n\nconst DivOption = styled(Div)`\n  height:100%;\n  \n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n`;\nconst DivHeader = styled(Div)`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n`;\nconst DivTitle = styled(Div)`\n  margin-top: 10px;\n  font-size: 1.2rem;\n  font-weight: bold;\n`;\nconst DivBody = styled(Div)`\n\n\tdisplay: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  \n`;\nconst DivRegion = styled(Div)`\n\n  margin-top: 15px;\n  margin-bottom: 5px;\n  \n\tdisplay: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  \n  & > * {\n    width: auto;\n  \tmargin-left: 5px;\n  \tmargin-right: 5px;\n  \tborder-radius: 6px;\n  }\n`;\nconst ButtonRegion = styled(Button)`\n  width: auto;\n  height: auto;\n  \n  background-color: transparent;\n  \n  \n`;\nconst GroupNumber = styled(Div)`\n  \n  margin-top: 5px;\n  margin-bottom: 5px;\n  \n\theight: 36px;\n\tdisplay: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  \n  & > * {\n    width: 150px;\n  \tmargin-left: 5px;\n  \tmargin-right: 5px;\n  \tborder-radius: 6px;\n  }\n`;\nconst ButtonNumberCenter = styled(Button)`\n  width: 60px;\n  height: 100%;\n  \n  \n`;\nconst ButtonNumberSide = styled(Button)`\n  width: 30px;\n  height: 100%;\n  \n`;\n\nconst Option = ({\n  idPlanTeam,\n  option,\n  authority,\n  addRemoveNotification,\n  replaceRegion\n}) => {\n  const objFlag = {\n    NA: flagNA,\n    EU: flagEU,\n    KR: flagKR,\n    CN: flagCN\n  };\n\n  const onClick_ButtonRegion = async event => {\n    let newRegion;\n\n    switch (option.region) {\n      case \"NA\":\n        newRegion = \"EU\";\n        break;\n\n      case \"EU\":\n        newRegion = \"KR\";\n        break;\n\n      case \"KR\":\n        newRegion = \"CN\";\n        break;\n\n      case \"CN\":\n        newRegion = \"NA\";\n        break;\n    }\n\n    replaceRegion(newRegion);\n    await axios.put(`${process.env.REACT_APP_URL_AHR}/plan-team/`, {\n      filter: {\n        _id: idPlanTeam\n      },\n      update: {\n        $set: {\n          \"option.region\": newRegion\n        }\n      }\n    });\n  };\n\n  const onClick_ButtonNumber = (event, which, how) => {\n    replaceNumber(newRegion);\n  }; // copy: https://www.npmjs.com/package/react-copy-to-clipboard\n\n\n  return /*#__PURE__*/React.createElement(DivOption, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(DivHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DivTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }\n  }, \" Option \")), /*#__PURE__*/React.createElement(DivBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(DivRegion, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }\n  }, \" region:  \"), /*#__PURE__*/React.createElement(ButtonRegion, {\n    onClick: onClick_ButtonRegion,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: objFlag[option.region],\n    width: \"48\",\n    height: \"36\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(GroupNumber, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }\n  }, \" number of teams: \"), /*#__PURE__*/React.createElement(ButtonNumberSide, {\n    onClick: event => onClick_ButtonNumber(event, \"team\", \"minus\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(IconMinus, {\n    width: \"20px\",\n    height: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 11\n    }\n  }), \"  \"), /*#__PURE__*/React.createElement(ButtonNumberCenter, {\n    onClick: event => onClick_ButtonNumber(event, \"team\", \"center\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 7\n    }\n  }, \" \", option.numberTeams ? `${option.numberTeams}` : `auto`), /*#__PURE__*/React.createElement(ButtonNumberSide, {\n    onClick: event => onClick_ButtonNumber(event, \"team\", \"plus\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(IconPlus, {\n    width: \"20px\",\n    height: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }), \" \")), /*#__PURE__*/React.createElement(GroupNumber, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }\n  }, \" number of groups: \"), /*#__PURE__*/React.createElement(ButtonNumberSide, {\n    onClick: event => onClick_ButtonNumber(event, \"group\", \"minus\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(IconMinus, {\n    width: \"20px\",\n    height: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 9\n    }\n  }), \" \"), /*#__PURE__*/React.createElement(ButtonNumberCenter, {\n    onClick: event => onClick_ButtonNumber(event, \"group\", \"center\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }\n  }, \" \", option.numberTeams ? `${option.numberTeams}` : `none`), /*#__PURE__*/React.createElement(ButtonNumberSide, {\n    onClick: event => onClick_ButtonNumber(event, \"group\", \"plus\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(IconPlus, {\n    width: \"20px\",\n    height: \"20px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 9\n    }\n  }), \" \"))));\n};\n/*\n\n <DivInputAdd>\n    <InputBattletag {...inputBattletag} placeholder=\"battletag#1234\" />\n    <InputName {...inputName} placeholder=\"name\" />\n    \n    { (authority === \"viewer\") && !workingAddPlayer &&\n      <ButtonAdd onClick = {  (event)=> onClick_ButtonAdd(event, \"pending\")} > Apply </ButtonAdd>\n    }\n    \n    { (authority === \"administrator\") && !workingAddPlayer && \n      <>\n        <ButtonAdd onClick = {  (event)=> onClick_ButtonAdd(event, \"confirmed\")} > Add </ButtonAdd>\n      </>\n    }\n  </DivInputAdd>\n\t    \n*/\n\n\nfunction mapStateToProps(state) {\n  return {\n    //workingAddPlayer: state.working.addPlayer\n    //,workingPutPlayerMmr: state.working.putPlayerMmr\n    idPlanTeam: state.planTeam._id //,passwordPlanTeam: state.planTeam.password\n    //, loadingPlanTeam: state.loading.planTeam\n    //, readyPlanTeam: state.ready.planTeam\n    ,\n    option: state.planTeam.option,\n    authority: state.authority //, planTeam: {...state.planTeam}\n\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addRemoveNotification: (situation, message, time) => dispatch(addRemoveNotification(situation, message, time)),\n    replaceRegion: regionName => dispatch(replaceRegion(regionName)) //,readPlanTeam: (idPlanTeam) => dispatch(readPlanTeam(idPlanTeam)) \n\n  };\n} // 컴포넌트에서 redux의 state, dispatch 를 일부분 골라서 이용가능하게 된다\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Option);","map":{"version":3,"sources":["/usr/projects/parallel-storm/src/components/TeamGenerator/Option.js"],"names":["dotenv","React","useEffect","useState","styled","axios","connect","replaceWorking","replaceRegion","readPlanTeam","addRemoveNotification","NavLink","useHistory","Div","Input","Button","useInput","getTimeStamp","IconWorking","IconCopy","IconMinus","IconPlus","CopyToClipboard","flagNA","flagEU","flagKR","flagCN","DivOption","DivHeader","DivTitle","DivBody","DivRegion","ButtonRegion","GroupNumber","ButtonNumberCenter","ButtonNumberSide","Option","idPlanTeam","option","authority","objFlag","NA","EU","KR","CN","onClick_ButtonRegion","event","newRegion","region","put","process","env","REACT_APP_URL_AHR","filter","_id","update","$set","onClick_ButtonNumber","which","how","replaceNumber","numberTeams","mapStateToProps","state","planTeam","mapDispatchToProps","dispatch","situation","message","time","regionName"],"mappings":"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","sourcesContent":["import dotenv from 'dotenv';\nimport React, {useEffect, useState} from 'react';\nimport styled from 'styled-components';\n\nimport axios from 'axios';\n\nimport { connect } from \"react-redux\";\nimport {replaceWorking, replaceRegion} from \"../../redux/store\";\nimport readPlanTeam from \"../../redux/thunks/readPlanTeam\";\nimport addRemoveNotification from \"../../redux/thunks/addRemoveNotification\";\n\n\nimport { NavLink, useHistory } from 'react-router-dom';\n\nimport {Div, Input, Button} from '../../styles/DefaultStyles';\n\n\nimport useInput from '../../tools/hooks/useInput';\nimport {getTimeStamp} from '../../tools/vanilla/time';\n\nimport IconWorking from '../../svgs/IconWorking'\nimport IconCopy from '../../svgs/basic/IconCopy'\nimport IconMinus from '../../svgs/basic/IconMinus'\nimport IconPlus from '../../svgs/basic/IconPlus'\n\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport flagNA from '../../images/flags/NA.png';\nimport flagEU from '../../images/flags/EU.png';\nimport flagKR from '../../images/flags/KR.png';\nimport flagCN from '../../images/flags/CN.png';\n\n\n// STYLES\nconst DivOption = styled(Div)`\n  height:100%;\n  \n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n`;\n\nconst DivHeader = styled(Div)`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n`\n\nconst DivTitle = styled(Div)`\n  margin-top: 10px;\n  font-size: 1.2rem;\n  font-weight: bold;\n`\n\n\n\nconst DivBody = styled(Div)`\n\n\tdisplay: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  \n`\n\nconst DivRegion = styled(Div)`\n\n  margin-top: 15px;\n  margin-bottom: 5px;\n  \n\tdisplay: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  \n  & > * {\n    width: auto;\n  \tmargin-left: 5px;\n  \tmargin-right: 5px;\n  \tborder-radius: 6px;\n  }\n`\n\nconst ButtonRegion = styled(Button)`\n  width: auto;\n  height: auto;\n  \n  background-color: transparent;\n  \n  \n`\n\nconst GroupNumber= styled(Div)`\n  \n  margin-top: 5px;\n  margin-bottom: 5px;\n  \n\theight: 36px;\n\tdisplay: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  \n  & > * {\n    width: 150px;\n  \tmargin-left: 5px;\n  \tmargin-right: 5px;\n  \tborder-radius: 6px;\n  }\n`\n\n\nconst ButtonNumberCenter = styled(Button)`\n  width: 60px;\n  height: 100%;\n  \n  \n`\nconst ButtonNumberSide = styled(Button)`\n  width: 30px;\n  height: 100%;\n  \n`\n\n\n\n const Option = ({\n  \n  idPlanTeam\n  , option\n  , authority\n  \n  \n  , addRemoveNotification\n  , replaceRegion\n   \n }) => {\n\n\n\n  const objFlag = {\n    NA: flagNA,\n    EU: flagEU,\n    KR: flagKR,\n    CN: flagCN\n  };\n  \n  const onClick_ButtonRegion = async (event) => {\n    \n    let newRegion;\n    \n    switch(option.region) {\n      case \"NA\":\n        newRegion = \"EU\";\n        break;\n      case \"EU\":\n        newRegion = \"KR\";\n        break;\n      case \"KR\":\n        newRegion = \"CN\";\n        break;\n      case \"CN\":\n        newRegion = \"NA\";\n        break;\n    }\n    \n    replaceRegion(newRegion);\n    await axios.put (`${process.env.REACT_APP_URL_AHR}/plan-team/`,\n      {\n        filter: {_id: idPlanTeam}\n        , update : {\n          $set: { \"option.region\": newRegion }\n        }\n      }\n    );\n  \n  }\n  \n  \n  const onClick_ButtonNumber = (event, which, how) => {\n    replaceNumber(newRegion);\n  }\n  \n  // copy: https://www.npmjs.com/package/react-copy-to-clipboard\n  \n  \n  return (\n  <DivOption>\n        \n    <DivHeader>\n      <DivTitle> Option </DivTitle>\n      \n    </DivHeader>\n\n    \n    \n   <DivBody>\n   \n    <DivRegion>\n      <Div> region:  </Div>\n      <ButtonRegion onClick={onClick_ButtonRegion} > \n  \t     <img src={objFlag[option.region]} width=\"48\" height=\"36\"/>\n  \t  </ButtonRegion>\n  \t</DivRegion>\n   \n   \n    <GroupNumber>\n      <Div> number of teams: </Div>\n      \n      <ButtonNumberSide\n        onClick={(event)=>onClick_ButtonNumber(event, \"team\", \"minus\")}\n        > <IconMinus width={\"20px\"} height={\"20px\"} />  </ButtonNumberSide>\n        \n      <ButtonNumberCenter\n        onClick={(event)=>onClick_ButtonNumber(event, \"team\", \"center\")}\n        > {(option.numberTeams)? `${option.numberTeams}` : `auto`}\n      </ButtonNumberCenter>\n      \n      <ButtonNumberSide\n        onClick={(event)=>onClick_ButtonNumber(event, \"team\", \"plus\")}\n        > <IconPlus width={\"20px\"} height={\"20px\"} /> </ButtonNumberSide>\n\t  </GroupNumber>\n\t \n\t <GroupNumber>\n      <Div> number of groups: </Div>\n      \n      <ButtonNumberSide\n        onClick={(event)=>onClick_ButtonNumber(event, \"group\", \"minus\")}\n      > <IconMinus width={\"20px\"} height={\"20px\"} /> </ButtonNumberSide>\n      \n      <ButtonNumberCenter\n        onClick={(event)=>onClick_ButtonNumber(event, \"group\", \"center\")}\n      > {(option.numberTeams)? `${option.numberTeams}` : `none`}\n      </ButtonNumberCenter>\n      \n      <ButtonNumberSide\n        onClick={(event)=>onClick_ButtonNumber(event, \"group\", \"plus\")}\n      > <IconPlus width={\"20px\"} height={\"20px\"} /> </ButtonNumberSide>\n\t  </GroupNumber>\n\t   \n\t   \n   </DivBody>\n  \n  </DivOption>\n        \n  \n  )\n\n}\n  \n\t  \n/*\n\n <DivInputAdd>\n    <InputBattletag {...inputBattletag} placeholder=\"battletag#1234\" />\n    <InputName {...inputName} placeholder=\"name\" />\n    \n    { (authority === \"viewer\") && !workingAddPlayer &&\n      <ButtonAdd onClick = {  (event)=> onClick_ButtonAdd(event, \"pending\")} > Apply </ButtonAdd>\n    }\n    \n    { (authority === \"administrator\") && !workingAddPlayer && \n      <>\n        <ButtonAdd onClick = {  (event)=> onClick_ButtonAdd(event, \"confirmed\")} > Add </ButtonAdd>\n      </>\n    }\n  </DivInputAdd>\n\t    \n*/\n\nfunction mapStateToProps(state) { \n  return { \n   \n    //workingAddPlayer: state.working.addPlayer\n    //,workingPutPlayerMmr: state.working.putPlayerMmr\n    \n    idPlanTeam: state.planTeam._id\n    //,passwordPlanTeam: state.planTeam.password\n    \n    //, loadingPlanTeam: state.loading.planTeam\n    //, readyPlanTeam: state.ready.planTeam\n    \n    ,option: state.planTeam.option\n    , authority: state.authority\n    \n    //, planTeam: {...state.planTeam}\n    \n  }; \n} \n\nfunction mapDispatchToProps(dispatch) { \n  return { \n    \n    addRemoveNotification: (situation, message, time) => dispatch( addRemoveNotification(situation, message, time) )\n    ,replaceRegion: (regionName) => dispatch(replaceRegion(regionName))\n    \n    //,readPlanTeam: (idPlanTeam) => dispatch(readPlanTeam(idPlanTeam)) \n\n  }; \n}\n\n// 컴포넌트에서 redux의 state, dispatch 를 일부분 골라서 이용가능하게 된다\nexport default connect(mapStateToProps, mapDispatchToProps)(Option);"]},"metadata":{},"sourceType":"module"}