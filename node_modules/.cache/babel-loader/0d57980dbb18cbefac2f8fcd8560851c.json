{"ast":null,"code":"import _regeneratorRuntime from\"/usr/projects/parallel-storm/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/usr/projects/parallel-storm/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import dotenv from'dotenv';import{REPLACE_READY,REPLACE_LOADING,REPLACE_DATA,ADD_NOTIFICATION,REMOVE_NOTIFICATION}from'../store';import{replaceReady,replaceLoading,replaceData,addNotification,removeNotification}from'../store';import addRemoveNotification from\"./addRemoveNotification\";// functions that dispatch actions which are from return fundamental action creators\nvar readPlanTeam=function readPlanTeam(idPlanTeam){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState,axios){var onSuccess,onError,response,newPlanTeam;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:onSuccess=function onSuccess(newPlanTeam){dispatch(replaceData(\"planTeam\",newPlanTeam));// 이게 먼저 돼고, 아래 loading, ready 수정해 주어야 한다!!!\ndispatch(replaceData(\"idPlanTeam\",newPlanTeam._id));dispatch(replaceReady(\"planTeam\",true));dispatch(replaceLoading(\"planTeam\",false));};onError=function onError(error){dispatch(replaceData(\"planTeam\",{}));dispatch(replaceData(\"idPlanTeam\",\"\"));dispatch(replaceReady(\"planTeam\",false));dispatch(replaceLoading(\"planTeam\",false));addRemoveNotification(\"error\",\"Reading planTeam has failed\",4000);//dispatch( replaceRerender(\"planTeam\") );\n};_context.prev=2;dispatch(replaceReady(\"planTeam\",false));dispatch(replaceLoading(\"planTeam\",true));_context.next=7;return axios.get(\"\".concat(process.env.REACT_APP_URL_AHR,\"/plan-team/\").concat(idPlanTeam));case 7:response=_context.sent;newPlanTeam=response.data;onSuccess(newPlanTeam);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](2);onError(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[2,12]]);}));return function(_x,_x2,_x3){return _ref.apply(this,arguments);};}();};// readPlanTeam\nexport default readPlanTeam;","map":{"version":3,"sources":["/usr/projects/parallel-storm/src/redux/thunks/readPlanTeam.js"],"names":["axios","dotenv","REPLACE_READY","REPLACE_LOADING","REPLACE_DATA","ADD_NOTIFICATION","REMOVE_NOTIFICATION","replaceReady","replaceLoading","replaceData","addNotification","removeNotification","addRemoveNotification","readPlanTeam","idPlanTeam","dispatch","getState","onSuccess","newPlanTeam","_id","onError","error","get","process","env","REACT_APP_URL_AHR","response","data"],"mappings":"2NAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CAEA,OAAQC,aAAR,CAAuBC,eAAvB,CAAwCC,YAAxC,CAAsDC,gBAAtD,CAAwEC,mBAAxE,KAAkG,UAAlG,CACA,OAASC,YAAT,CAAuBC,cAAvB,CAAuCC,WAAvC,CAAoDC,eAApD,CAAqEC,kBAArE,KAA8F,UAA9F,CACA,MAAOC,CAAAA,qBAAP,KAAkC,yBAAlC,CAIA;AACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,UAAD,CAAgB,CAEnC,+FAAO,iBAAOC,QAAP,CAAiBC,QAAjB,CAA2BhB,KAA3B,6JAECiB,SAFD,CAEa,QAAZA,CAAAA,SAAY,CAACC,WAAD,CAAiB,CAEjCH,QAAQ,CAAEN,WAAW,CAAC,UAAD,CAAaS,WAAb,CAAb,CAAR,CAAmD;AACnDH,QAAQ,CAAEN,WAAW,CAAC,YAAD,CAAeS,WAAW,CAACC,GAA3B,CAAb,CAAR,CAEAJ,QAAQ,CAAER,YAAY,CAAC,UAAD,CAAa,IAAb,CAAd,CAAR,CACAQ,QAAQ,CAAEP,cAAc,CAAC,UAAD,CAAa,KAAb,CAAhB,CAAR,CAGD,CAXI,CAcCY,OAdD,CAcW,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAU,CAExBN,QAAQ,CAAEN,WAAW,CAAC,UAAD,CAAa,EAAb,CAAb,CAAR,CACAM,QAAQ,CAAEN,WAAW,CAAC,YAAD,CAAe,EAAf,CAAb,CAAR,CAEAM,QAAQ,CAAER,YAAY,CAAC,UAAD,CAAa,KAAb,CAAd,CAAR,CACAQ,QAAQ,CAAEP,cAAc,CAAC,UAAD,CAAa,KAAb,CAAhB,CAAR,CAEAI,qBAAqB,CAAC,OAAD,CAAU,6BAAV,CAAyC,IAAzC,CAArB,CAEA;AACD,CAzBI,iBA8BHG,QAAQ,CAAER,YAAY,CAAC,UAAD,CAAa,KAAb,CAAd,CAAR,CACAQ,QAAQ,CAAEP,cAAc,CAAC,UAAD,CAAa,IAAb,CAAhB,CAAR,CA/BG,sBAiCoBR,CAAAA,KAAK,CAACsB,GAAN,WAAcC,OAAO,CAACC,GAAR,CAAYC,iBAA1B,uBAAyDX,UAAzD,EAjCpB,QAiCGY,QAjCH,eAmCGR,WAnCH,CAmCiBQ,QAAQ,CAACC,IAnC1B,CAsCHV,SAAS,CAACC,WAAD,CAAT,CAtCG,iFA2CHE,OAAO,aAAP,CA3CG,qEAAP,uEA+CD,CAjDD,CAiDE;AAEF,cAAgBP,CAAAA,YAAhB","sourcesContent":["import axios from 'axios';\r\nimport dotenv from 'dotenv';\r\n\r\nimport {REPLACE_READY, REPLACE_LOADING, REPLACE_DATA, ADD_NOTIFICATION, REMOVE_NOTIFICATION} from '../store';\r\nimport { replaceReady, replaceLoading, replaceData, addNotification, removeNotification} from '../store'\r\nimport addRemoveNotification from \"./addRemoveNotification\";\r\n\r\n\r\n\r\n// functions that dispatch actions which are from return fundamental action creators\r\nconst readPlanTeam = (idPlanTeam) => {   \r\n  \r\n  return async (dispatch, getState, axios) => { \r\n\r\n    const onSuccess = (newPlanTeam) => { \r\n      \r\n      dispatch( replaceData(\"planTeam\", newPlanTeam) );  // 이게 먼저 돼고, 아래 loading, ready 수정해 주어야 한다!!!\r\n      dispatch( replaceData(\"idPlanTeam\", newPlanTeam._id) );\r\n      \r\n      dispatch( replaceReady(\"planTeam\", true) );\r\n      dispatch( replaceLoading(\"planTeam\", false) ); \r\n      \r\n      \r\n    } \r\n\r\n\r\n    const onError = (error) =>{ \r\n      \r\n      dispatch( replaceData(\"planTeam\", {}) );\r\n      dispatch( replaceData(\"idPlanTeam\", \"\") );\r\n      \r\n      dispatch( replaceReady(\"planTeam\", false) );\r\n      dispatch( replaceLoading(\"planTeam\", false) ); \r\n      \r\n      addRemoveNotification(\"error\", \"Reading planTeam has failed\", 4000);\r\n      \r\n      //dispatch( replaceRerender(\"planTeam\") );\r\n    } \r\n\r\n\r\n    try { \r\n      \r\n      dispatch( replaceReady(\"planTeam\", false) );\r\n      dispatch( replaceLoading(\"planTeam\", true) ); \r\n      \r\n      const response = await axios.get( `${process.env.REACT_APP_URL_AHR}/plan-team/${idPlanTeam}`);\r\n      \r\n      const newPlanTeam = response.data;\r\n      \r\n      \r\n      onSuccess(newPlanTeam);\r\n  \r\n    } // try\r\n    \r\n    catch (error) { \r\n      onError(error); \r\n    } //catch\r\n\r\n  } \r\n} // readPlanTeam\r\n    \r\nexport default  readPlanTeam;"]},"metadata":{},"sourceType":"module"}